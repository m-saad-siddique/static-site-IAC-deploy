<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebGL Deployment - Complete Guide</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .main_body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 2rem 1rem;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 3rem 2rem;
      text-align: center;
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
    }

    .header p {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    .content {
      padding: 2rem;
      /* max-width: 1000px; */
      margin: 0 auto;
    }

    .toc {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 2rem;
      margin: 2rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .toc h2 {
      color: #667eea;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }

    .toc ul {
      list-style: none;
      margin-left: 0;
    }

    .toc li {
      margin: 0.5rem 0;
    }

    .toc a {
      color: #667eea;
      text-decoration: none;
      font-weight: 500;
    }

    .toc a:hover {
      text-decoration: underline;
    }

    /* .section {
      margin-bottom: 4rem;
      scroll-margin-top: 2rem;
      padding: 2rem 0;
      border-bottom: 1px solid #e9ecef;
    } */

    /* section:last-child {
      border-bottom: none;
    } */

    .h2_class {
      color: #667eea;
      font-size: 2rem;
      margin-bottom: 1.5rem;
      margin-top: 2rem;
      padding-bottom: 0.75rem;
      border-bottom: 3px solid #667eea;
      font-weight: 700;
    }

    .h3_class {
      color: #764ba2;
      font-size: 1.5rem;
      margin: 2rem 0 1rem;
      font-weight: 600;
      padding-left: 0.5rem;
      border-left: 4px solid #764ba2;
    }

    .h4_class {
      color: #555;
      font-size: 1.2rem;
      margin: 1.5rem 0 0.75rem;
      font-weight: 600;
    }

    .p_class {
      margin: 1rem 0;
      line-height: 1.8;
      font-size: 1.05rem;
    }

    .info-box {
      background: #e7f3ff;
      border-left: 4px solid #2196F3;
      padding: 1.25rem;
      margin: 1.5rem 0;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .warning-box {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 1.25rem;
      margin: 1.5rem 0;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .success-box {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 1.25rem;
      margin: 1.5rem 0;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 1.5rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1.5rem 0;
      font-family: 'Courier New', 'Consolas', 'Monaco', monospace;
      font-size: 0.95rem;
      line-height: 1.8;
      white-space: pre;
      tab-size: 2;
      -moz-tab-size: 2;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      border: 1px solid #404040;
    }

    .code-block code {
      color: #f8f8f2;
      display: block;
      width: 100%;
      padding: 0;
      margin: 0;
      background: transparent;
      border: none;
      font-family: inherit;
      font-size: inherit;
      line-height: inherit;
      white-space: pre;
      overflow-wrap: anywhere;
    }

    /* Better spacing for code blocks */
    .code-block + p,
    .p_class + .code-block,
    .code-block + ul,
    .ul_class + .code-block {
      margin-top: 1.5rem;
    }

    @media (max-width: 768px) {
      .code-block {
        padding: 1rem;
        font-size: 0.85rem;
        line-height: 1.6;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        white-space: pre;
        word-wrap: break-word;
      }
      
      .code-block code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    }

    .step-list {
      counter-reset: step-counter;
      list-style: none;
      margin-left: 0;
    }

    .step-list li {
      counter-increment: step-counter;
      margin: 1rem 0;
      padding-left: 2.5rem;
      position: relative;
    }

    .step-list li::before {
      content: counter(step-counter);
      position: absolute;
      left: 0;
      background: #667eea;
      color: white;
      width: 2rem;
      height: 2rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .table_class {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      overflow: hidden;
    }

    .table_class th {
      background: #667eea;
      color: white;
      padding: 1.25rem;
      text-align: left;
      font-weight: 600;
      font-size: 1.05rem;
    }

    .table_class td {
      padding: 1.25rem;
      border-bottom: 1px solid #dee2e6;
      background: white;
    }

    .table_class tr:last-child td {
      border-bottom: none;
    }

    .table_class tr:hover {
      background: #f8f9fa;
    }

    .flow-diagram {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 1.5rem;
      margin: 1.5rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .flow-step {
      display: flex;
      align-items: center;
      margin: 0.5rem 0;
      padding: 0.5rem;
    }

    .flow-step::before {
      content: "‚Üí";
      color: #667eea;
      font-size: 1.5rem;
      margin-right: 1rem;
      font-weight: bold;
    }

    .flow-step:first-child::before {
      content: "1.";
    }

    .ul_class, .ol_class {
      margin-left: 2rem;
      margin-top: 1rem;
      margin-bottom: 1.5rem;
      line-height: 1.8;
    }

    .li_class {
      margin: 0.75rem 0;
      line-height: 1.8;
    }

    .ul_class li, .ol_class li {
      padding-left: 0.5rem;
    }

    .footer {
      background: #f8f9fa;
      padding: 2rem;
      text-align: center;
      color: #6c757d;
      border-top: 1px solid #dee2e6;
    }

    /* Better spacing for sections */
    .section > .p_class:first-of-type {
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
      color: #555;
    }

    /* Clear visual separation */
    .code-block + h3,
    .code-block + h4,
    .h3_class + .code-block,
    .h4_class + .code-block {
      margin-top: 2rem;
    }

    /* Better table of contents spacing */
    .toc li {
      padding: 0.5rem 0;
      line-height: 1.8;
    }

    .toc a {
      display: block;
      padding: 0.25rem 0;
    }

    /* Q&A Styling */
    #faq .h4_class {
      color: #667eea;
      font-size: 1.3rem;
      margin: 2rem 0 1rem;
      font-weight: 600;
      padding: 1rem 1.25rem;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-left: 5px solid #667eea;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    #faq .h4_class:first-of-type {
      margin-top: 1rem;
    }

    #faq .h4_class::before {
      content: "‚ùì ";
      margin-right: 0.5rem;
    }

    #faq .p_class {
      margin: 0.75rem 0 1.5rem;
      padding: 1rem 1.25rem;
      background: #ffffff;
      border-left: 3px solid #28a745;
      border-radius: 4px;
      line-height: 1.8;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    #faq .ul_class, #faq .ol_class {
      margin: 0.75rem 0 1.5rem 2rem;
      padding: 1rem 1.5rem;
      background: #ffffff;
      border-left: 3px solid #28a745;
      border-radius: 4px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    #faq .code-block {
      margin: 1rem 0 1.5rem 1rem;
      border-left: 3px solid #667eea;
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 1.8rem;
      }

      .content {
        padding: 1.5rem;
      }

      .h2_class {
        font-size: 1.6rem;
      }

      .h3_class {
        font-size: 1.3rem;
      }

      .section {
        padding: 1.5rem 0;
        margin-bottom: 3rem;
      }

      .code-block {
        padding: 1rem;
        font-size: 0.85rem;
      }
    }

    /* Collapsible Sections */
    .collapsible {
      cursor: pointer;
      user-select: none;
      position: relative;
      padding-right: 2rem;
    }

    .collapsible::after {
      content: "‚ñº";
      position: absolute;
      right: 0;
      transition: transform 0.3s ease;
      color: #667eea;
      font-size: 0.8rem;
    }

    .collapsible.active::after {
      transform: rotate(180deg);
    }

    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .collapsible-content.active {
      max-height: 5000px;
      transition: max-height 0.5s ease-in;
    }

    /* TOC starts collapsed by default */
    #toc .collapsible-content {
      max-height: 0;
    }

    #toc .collapsible.active + .collapsible-content {
      max-height: 5000px;
    }

    /* Visual Diagrams */
    .diagram {
      background: #f8f9fa;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 2rem;
      margin: 2rem 0;
      text-align: center;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
      overflow-x: auto;
    }

    .architecture-diagram {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-left: 4px solid #667eea;
      padding: 1.5rem;
      margin: 2rem 0;
      border-radius: 8px;
    }

    .architecture-box {
      background: white;
      border: 2px solid #667eea;
      border-radius: 6px;
      padding: 1rem;
      margin: 0.5rem 0;
      display: inline-block;
      min-width: 150px;
      font-weight: 600;
      color: #667eea;
    }

    .arrow {
      color: #667eea;
      font-size: 1.5rem;
      margin: 0.5rem 0;
    }

    .flow-diagram-visual {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 2rem 0;
    }

    .flow-box {
      background: white;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin: 0.5rem 0;
      min-width: 250px;
      text-align: center;
      font-weight: 600;
      color: #333;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
    }

    .flow-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
      border-color: #764ba2;
    }

    .flow-arrow {
      color: #667eea;
      font-size: 1.2rem;
      margin: 0.2rem 0;
    }

    @media (max-width: 768px) {
      .flow-diagram-visual {
        font-size: 0.85rem;
      }
      .flow-box {
        min-width: 200px;
        padding: 0.75rem 1rem;
      }
    }

    /* Back to Top Button */
    .back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: #667eea;
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      transition: all 0.3s ease;
      z-index: 1000;
      font-size: 1.5rem;
    }

    .back-to-top:hover {
      background: #764ba2;
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);
    }

    .back-to-top.visible {
      display: flex;
    }

    /* Section Separator */
    .section-separator {
      height: 2px;
      background: linear-gradient(90deg, transparent, #667eea, transparent);
      margin: 3rem 0;
      border: none;
    }

    /* Quick Links Box */
    .quick-links {
      background: linear-gradient(135deg, #e7f3ff 0%, #f0f8ff 100%);
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 1.5rem;
      margin: 2rem 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }

    .quick-link-item {
      background: white;
      padding: 1rem;
      border-radius: 6px;
      border-left: 3px solid #667eea;
      transition: transform 0.2s ease;
    }

    .quick-link-item:hover {
      transform: translateX(5px);
    }

    .quick-link-item a {
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      display: block;
    }

    @media (max-width: 768px) {
      .back-to-top {
        bottom: 1rem;
        right: 1rem;
        width: 45px;
        height: 45px;
        font-size: 1.2rem;
      }
      .quick-links {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body class="main_body">
  <div class="container">
    <header class="header">
      <h1>üöÄ Static Site Deployment Tutorial</h1>
      <p class="p_class">Learn Infrastructure as Code with Terraform + AWS S3 + CloudFront</p>
    </header>

    <div class="content">
      <!-- Table of Contents -->
      <section id="toc" class="toc section">
        <h2 class="h2_class collapsible" style="cursor: pointer;">üìë Table of Contents <span style="font-size: 0.8em; opacity: 0.7;">(Click to expand/collapse)</span></h2>
        <div class="collapsible-content">
        <ul class="ul_class">
          <li class="li_class"><a href="#what-is-terraform">1. What is Terraform?</a></li>
          <li class="li_class"><a href="#about-project">2. About This Project</a></li>
          <li class="li_class"><a href="#best-structure">3. Best Practices: Project Structure</a></li>
          <li class="li_class"><a href="#environments-workspaces">4. How to Handle Environments & Workspaces</a></li>
          <li class="li_class"><a href="#aws-services">5. Understanding AWS Services</a></li>
          <li class="li_class"><a href="#code-snippets">6. Code Snippets: Configuring Different Services</a></li>
          <li class="li_class"><a href="#configure-aws-local">7. Configure AWS on Local Machine</a></li>
          <li class="li_class"><a href="#prerequisites">8. Prerequisites & Setup</a></li>
          <li class="li_class"><a href="#step1-initialize">9. Step 1: Initialize Terraform</a></li>
          <li class="li_class"><a href="#step2-plan">10. Step 2: Plan Your Deployment</a></li>
          <li class="li_class"><a href="#step3-apply">11. Step 3: Apply Infrastructure</a></li>
          <li class="li_class"><a href="#step4-upload">12. Step 4: Upload Your Static Site</a></li>
          <li class="li_class"><a href="#step5-verify">13. Step 5: Verify Deployment</a></li>
          <li class="li_class"><a href="#cicd-setup">14. CI/CD Setup (Advanced)</a></li>
          <li class="li_class"><a href="#best-practices">15. Best Practices & Recommendations</a></li>
          <li class="li_class"><a href="#troubleshooting">16. Troubleshooting</a></li>
          <li class="li_class"><a href="#faq">17. Frequently Asked Questions (FAQ)</a></li>
          <li class="li_class"><a href="#quick-reference">18. Command Reference</a></li>
          <li class="li_class"><a href="#additional-resources">19. Additional Resources</a></li>
        </ul>
        </div>
      </section>

      <!-- Quick Links -->
      <div class="quick-links">
        <div class="quick-link-item">
          <a href="#step1-initialize">üöÄ Quick Start</a>
          <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">Get started in 5 steps</p>
        </div>
        <div class="quick-link-item">
          <a href="#troubleshooting">üîß Troubleshooting</a>
          <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">Common issues & solutions</p>
        </div>
        <div class="quick-link-item">
          <a href="#quick-reference">üìã Commands</a>
          <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">Quick command reference</p>
        </div>
        <div class="quick-link-item">
          <a href="#faq">‚ùì FAQ</a>
          <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">Frequently asked questions</p>
        </div>
      </div>

      <!-- What is Terraform -->
      <section id="what-is-terraform" class="section">
        <h2 class="h2_class">1. Quick Start: What is Terraform?</h2>
        
        <p class="p_class"><strong>Terraform</strong> lets you create AWS infrastructure (S3, CloudFront, etc.) by writing code instead of clicking in the AWS Console.</p>

        <h3 class="h3_class">Basic Workflow</h3>
        <div class="code-block">
<code># 1. Write infrastructure code (.tf files)
# 2. Run: terraform init    # Downloads AWS provider
# 3. Run: terraform plan     # Shows what will be created
# 4. Run: terraform apply    # Actually creates resources</code>
        </div>

        <h3 class="h3_class">Quick Example</h3>
        <p class="p_class">Create an S3 bucket with code:</p>
        <div class="code-block">
<code># main.tf
provider "aws" {
  region = "us-east-1"
}

resource "aws_s3_bucket" "my_bucket" {
  bucket = "my-static-site-123"
}

# Run: terraform init && terraform apply
# Result: S3 bucket created in AWS!</code>
        </div>

        <h3 class="h3_class">Key Concepts (Quick Reference)</h3>
        <table class="table_class">
          <thead>
            <tr>
              <th>Concept</th>
              <th>Example</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Provider</strong></td>
              <td><code>provider "aws"</code></td>
              <td>Connects to AWS</td>
            </tr>
            <tr>
              <td><strong>Resource</strong></td>
              <td><code>resource "aws_s3_bucket"</code></td>
              <td>Creates AWS resource</td>
            </tr>
            <tr>
              <td><strong>Variable</strong></td>
              <td><code>variable "bucket_name"</code></td>
              <td>Makes code reusable</td>
            </tr>
            <tr>
              <td><strong>Module</strong></td>
              <td><code>module "s3" { source = "./modules/s3" }</code></td>
              <td>Reusable code blocks</td>
            </tr>
            <tr>
              <td><strong>Output</strong></td>
              <td><code>output "url" { value = ... }</code></td>
              <td>Shows results after deploy</td>
            </tr>
          </tbody>
        </table>

        <div class="info-box">
          <strong>üí° In Simple Terms:</strong> Write code ‚Üí Terraform creates AWS resources ‚Üí Your site is deployed!
        </div>
      </section>

      <hr class="section-separator">

      <!-- About the Project -->
      <section id="about-project" class="section">
        <h2 class="h2_class">2. What This Project Does</h2>
        
        <p class="p_class">This project deploys static websites to AWS using Terraform. <strong>What you'll actually do:</strong></p>
        
        <h3 class="h3_class">What Gets Created</h3>
        <div class="architecture-diagram">
          <div style="text-align: center; margin-bottom: 1rem;">
            <div class="architecture-box">Your Files<br/>(HTML/CSS/JS)</div>
            <div class="arrow">‚Üì</div>
            <div class="architecture-box">S3 Bucket<br/>(Private Storage)</div>
            <div class="arrow">‚Üì</div>
            <div class="architecture-box">CloudFront CDN<br/>(Global Distribution)</div>
            <div class="arrow">‚Üì</div>
            <div class="architecture-box">HTTPS URL<br/>(Your Live Site)</div>
          </div>
          <div style="text-align: center; margin-top: 1rem; color: #666; font-size: 0.9rem;">
            üîí OAC Security: Only CloudFront can access S3
          </div>
        </div>

        <h3 class="h3_class">Project Files You'll Use</h3>
        <div class="code-block">
<code>webgl-deploy/
‚îú‚îÄ‚îÄ main.tf                 # Main config (uses modules)
‚îú‚îÄ‚îÄ variables.tf            # Configurable values
‚îú‚îÄ‚îÄ environments/dev/       # Dev settings
‚îÇ   ‚îî‚îÄ‚îÄ terraform.tfvars    # Edit this for your config
‚îî‚îÄ‚îÄ modules/                # Reusable code
    ‚îú‚îÄ‚îÄ s3/                # S3 bucket code
    ‚îî‚îÄ‚îÄ cloudfront/        # CloudFront code</code>
        </div>

        <h3 class="h3_class">Quick Workflow</h3>
        <div class="code-block">
<code># 1. Initialize Terraform
terraform init

# 2. Plan deployment
terraform plan -var-file=environments/dev/terraform.tfvars

# 3. Apply infrastructure
terraform apply -var-file=environments/dev/terraform.tfvars

# 4. Upload files
BUCKET=$(terraform output -raw s3_bucket_id)
aws s3 sync ./build s3://$BUCKET/ --delete

# 5. Get URL
terraform output deployment_url</code>
        </div>

        <div class="success-box">
          <strong>üéØ Result:</strong> Your static site is live on a CloudFront URL in about 5 minutes!
        </div>
      </section>

      <!-- Best Practices: Project Structure -->
      <section id="best-structure" class="section">
        <h2 class="h2_class">3. Project Structure (Quick Guide)</h2>
        
        <h3 class="h3_class">üìÅ File Organization</h3>
        <div class="code-block">
<code>webgl-deploy/
‚îú‚îÄ‚îÄ main.tf              # Uses modules to create resources
‚îú‚îÄ‚îÄ variables.tf         # Configurable values
‚îú‚îÄ‚îÄ outputs.tf           # Shows URLs after deploy
‚îú‚îÄ‚îÄ environments/
‚îÇ   ‚îî‚îÄ‚îÄ dev/terraform.tfvars  # Your settings
‚îî‚îÄ‚îÄ modules/             # Reusable code
    ‚îú‚îÄ‚îÄ s3/              # Creates S3 bucket
    ‚îî‚îÄ‚îÄ cloudfront/       # Creates CloudFront</code>
        </div>

        <h3 class="h3_class">How to Use Files</h3>
        <table class="table_class">
          <thead>
            <tr>
              <th>File</th>
              <th>What You Do</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>environments/dev/terraform.tfvars</code></td>
              <td>Edit this to change settings (bucket name, region, etc.)</td>
            </tr>
            <tr>
              <td><code>main.tf</code></td>
              <td>Uses modules - usually don't need to edit</td>
            </tr>
            <tr>
              <td><code>modules/s3/main.tf</code></td>
              <td>Edit if you need to customize S3 bucket</td>
            </tr>
            <tr>
              <td><code>scripts/*.sh</code></td>
              <td>Optional helper scripts (see manual steps in tutorial)</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">Quick Example: Change Bucket Name</h3>
        <div class="code-block">
<code># Edit: environments/dev/terraform.tfvars
bucket_name = "my-custom-bucket-name"

# Then deploy
./scripts/apply.sh dev</code>
        </div>

        <h3 class="h3_class">Essential Rules</h3>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>Never commit</strong> <code>terraform.tfvars</code> with real secrets</li>
          <li class="li_class">‚úÖ <strong>Always run</strong> <code>terraform plan</code> before <code>apply</code></li>
          <li class="li_class">‚úÖ <strong>Use modules</strong> - Don't put everything in one file</li>
          <li class="li_class">‚úÖ <strong>Format code</strong> - Run <code>terraform fmt</code> before commit</li>
        </ul>
      </section>

      <!-- Environments and Workspaces -->
      <section id="environments-workspaces" class="section">
        <h2 class="h2_class">4. Working with Environments</h2>
        
        <p class="p_class">Use different environments (dev, staging, prod) with separate infrastructure. Workspaces keep them isolated.</p>

        <h3 class="h3_class">Quick Example</h3>
        <div class="code-block">
<code># Deploy to dev
terraform workspace select dev
terraform apply -var-file=environments/dev/terraform.tfvars

# Deploy to staging  
terraform workspace select staging
terraform apply -var-file=environments/staging/terraform.tfvars

# Deploy to prod
terraform workspace select prod
terraform apply -var-file=environments/prod/terraform.tfvars

# Each environment is separate - safe to destroy one!</code>
        </div>

        <h3 class="h3_class">How Workspaces Work</h3>
        <div class="code-block">
<code># Workspace = Separate state file per environment
dev workspace     ‚Üí .terraform/terraform.tfstate.d/dev/
staging workspace ‚Üí S3: terraform-state-staging/...
prod workspace    ‚Üí S3: terraform-state-prod/...

# Scripts handle this automatically - you just specify environment!</code>
        </div>

        <h3 class="h3_class">Environment Configuration Files</h3>
        <div class="code-block">
<code># Edit: environments/dev/terraform.tfvars
environment = "dev"
aws_region  = "us-east-1"
bucket_name = "my-site-dev"

# Edit: environments/prod/terraform.tfvars  
environment = "prod"
aws_region  = "us-east-1"
bucket_name = "my-site-prod"</code>
        </div>

        <h3 class="h3_class">Practical Commands</h3>
        <div class="code-block">
<code># Deploy to different environments
terraform workspace select dev
terraform apply -var-file=environments/dev/terraform.tfvars

terraform workspace select staging
terraform apply -var-file=environments/staging/terraform.tfvars

terraform workspace select prod
terraform apply -var-file=environments/prod/terraform.tfvars

# View what's deployed
terraform workspace select dev
terraform output

# Destroy specific environment
terraform workspace select dev
terraform destroy -var-file=environments/dev/terraform.tfvars</code>
        </div>

        <h3 class="h3_class">Manual Workspace Commands (If Needed)</h3>
        <div class="code-block">
<code>terraform workspace list        # List all
terraform workspace show          # Current workspace
terraform workspace select dev    # Switch workspace</code>
        </div>
      </section>

      <!-- Understanding AWS Services -->
      <section id="aws-services" class="section">
        <h2 class="h2_class">5. AWS Services (What They Do)</h2>
        
        <h3 class="h3_class">Quick Overview</h3>
        <table class="table_class">
          <thead>
            <tr>
              <th>Service</th>
              <th>What It Does</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>S3</strong></td>
              <td>Stores your files (HTML, CSS, JS)</td>
            </tr>
            <tr>
              <td><strong>CloudFront</strong></td>
              <td>Serves files globally (CDN)</td>
            </tr>
            <tr>
              <td><strong>OAC</strong></td>
              <td>Security - only CloudFront can access S3</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">How It Works (Simple)</h3>
        <div class="flow-diagram-visual">
          <div class="flow-box">1. Upload Files</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">2. S3 Bucket (Private)</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">3. CloudFront CDN</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">4. Users Access HTTPS URL</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box" style="background: #d4edda; border-color: #28a745;">‚úÖ Fast, Secure, Global Website</div>
        </div>

        <h3 class="h3_class">Why Private S3 + CloudFront?</h3>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>Security</strong> - S3 bucket is private (can't be accessed directly)</li>
          <li class="li_class">‚úÖ <strong>Speed</strong> - CloudFront CDN is faster than direct S3</li>
          <li class="li_class">‚úÖ <strong>HTTPS</strong> - Free SSL certificate from CloudFront</li>
          <li class="li_class">‚úÖ <strong>Global</strong> - Files cached worldwide for fast access</li>
        </ul>

        <h3 class="h3_class">What You Need to Know</h3>
        <div class="code-block">
<code># S3 Bucket
- Stores your static files
- Private (not publicly accessible)
- Encrypted by default

# CloudFront
- Global CDN (Content Delivery Network)
- Serves files from S3
- Provides HTTPS URL
- Takes 15-20 min to deploy

# OAC (Origin Access Control)
- Security feature
- Only CloudFront can access S3
- Configured automatically</code>
        </div>
      </section>

      <!-- Code Snippets: Configuring Services -->
      <section id="code-snippets" class="section">
        <h2 class="h2_class collapsible">6. Code Snippets: Configuring Different Services</h2>
        <div class="collapsible-content">
        <p class="p_class">Now let's look at actual Terraform code for configuring each service. These examples show you how to write infrastructure as code.</p>

        <h3 class="h3_class">üì¶ 1. S3 Bucket Configuration</h3>
        <p class="p_class">Here's how to create a private S3 bucket with security best practices. <strong>Note:</strong> These are code examples showing Terraform syntax. This project uses modules (see section 6).</p>

        <h4 class="h4_class collapsible">Basic S3 Bucket</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># Create S3 bucket
resource "aws_s3_bucket" "webgl_bucket" {
  bucket = "${var.project_name}-${var.environment}-${random_id.bucket_suffix.hex}"
  
  # Allow bucket deletion even with objects (useful for dev/staging)
  force_destroy = true
  
  tags = {
    Environment = var.environment
    ManagedBy   = "Terraform"
  }
}

# Block all public access
resource "aws_s3_bucket_public_access_block" "webgl_bucket_pab" {
  bucket = aws_s3_bucket.webgl_bucket.id

  block_public_acls       = true
  block_public_policy     = true
  ignore_public_acls      = true
  restrict_public_buckets = true
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">Enable Encryption</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># Server-side encryption
resource "aws_s3_bucket_server_side_encryption_configuration" "webgl_bucket_encryption" {
  bucket = aws_s3_bucket.webgl_bucket.id

  rule {
    apply_server_side_encryption_by_default {
      sse_algorithm = "AES256"  # Free, managed by AWS
    }
  }
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">Enable Versioning</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># Enable versioning for rollback capability
resource "aws_s3_bucket_versioning" "webgl_bucket_versioning" {
  bucket = aws_s3_bucket.webgl_bucket.id

  versioning_configuration {
    status = var.enable_versioning ? "Enabled" : "Disabled"
  }
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">Configure CORS (for WebGL/Web Apps)</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># CORS configuration for cross-origin requests
resource "aws_s3_bucket_cors_configuration" "webgl_bucket_cors" {
  bucket = aws_s3_bucket.webgl_bucket.id

  cors_rule {
    allowed_origins = ["*"]  # Or specify your domain
    allowed_methods = ["GET", "HEAD"]
    allowed_headers = ["*"]
    max_age_seconds = 3600
  }
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">S3 Bucket Policy (Allow CloudFront Access)</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># Bucket policy that allows only CloudFront to access S3
resource "aws_s3_bucket_policy" "webgl_bucket_policy" {
  bucket = aws_s3_bucket.webgl_bucket.id

  policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Sid    = "AllowCloudFrontServicePrincipal"
        Effect = "Allow"
        Principal = {
          Service = "cloudfront.amazonaws.com"
        }
        Action   = "s3:GetObject"
        Resource = "${aws_s3_bucket.webgl_bucket.arn}/*"
        Condition = {
          StringEquals = {
            "AWS:SourceArn" = var.cloudfront_distribution_arn
          }
        }
      }
    ]
  })

  depends_on = [aws_s3_bucket_public_access_block.webgl_bucket_pab]
}</code>
        </div>
        </div>

        <h3 class="h3_class">üåê 2. CloudFront Distribution Configuration</h3>
        <p class="p_class">Here's how to create a CloudFront distribution with Origin Access Control. <strong>Note:</strong> These are code examples. This project uses modules (see section 6).</p>

        <h4 class="h4_class collapsible">Create Origin Access Control (OAC)</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># Origin Access Control - modern replacement for OAI
resource "aws_cloudfront_origin_access_control" "webgl_oac" {
  name                              = "${var.distribution_name}-oac"
  description                       = "OAC for secure S3 access"
  origin_access_control_origin_type = "s3"
  signing_behavior                  = "always"
  signing_protocol                  = "sigv4"
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">CloudFront Distribution</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># CloudFront distribution
resource "aws_cloudfront_distribution" "webgl_distribution" {
  enabled             = true
  is_ipv6_enabled     = true
  default_root_object = "index.html"
  comment             = "WebGL Distribution for ${var.environment}"

  # Origin - S3 bucket with OAC
  origin {
    domain_name              = aws_s3_bucket.webgl_bucket.bucket_regional_domain_name
    origin_id                = "S3-${aws_s3_bucket.webgl_bucket.id}"
    origin_access_control_id = aws_cloudfront_origin_access_control.webgl_oac.id
  }

  # Default cache behavior
  default_cache_behavior {
    target_origin_id = "S3-${aws_s3_bucket.webgl_bucket.id}"
    
    # Redirect HTTP to HTTPS
    viewer_protocol_policy = "redirect-to-https"
    
    allowed_methods = ["GET", "HEAD", "OPTIONS"]
    cached_methods  = ["GET", "HEAD"]
    
    # Use managed cache policy
    cache_policy_id = "658327ea-f89d-4fab-a63d-7e88639e58f6"  # CachingOptimized
    
    # Compress objects automatically
    compress = true
    
    # Cache TTL settings
    min_ttl     = 0
    default_ttl = 3600      # 1 hour
    max_ttl     = 86400    # 1 day
  }

  # Custom error responses for SPA routing
  custom_error_response {
    error_code         = 403
    response_code      = 200
    response_page_path = "/index.html"
    error_caching_min_ttl = 300
  }

  custom_error_response {
    error_code         = 404
    response_code      = 200
    response_page_path = "/index.html"
    error_caching_min_ttl = 300
  }

  # Viewer certificate (use CloudFront default)
  viewer_certificate {
    cloudfront_default_certificate = true
  }

  # Restrictions
  restrictions {
    geo_restriction {
      restriction_type = "none"
    }
  }

  tags = {
    Environment = var.environment
    ManagedBy   = "Terraform"
  }
}</code>
        </div>
        </div>

        <h3 class="h3_class">üîê 3. IAM Roles and Policies</h3>
        <p class="p_class">Here's how to create IAM roles for CI/CD deployments:</p>

        <h4 class="h4_class collapsible">IAM Role for GitHub Actions (OIDC)</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># IAM role that can be assumed by GitHub Actions
resource "aws_iam_role" "deployment_role" {
  name = "${var.project_name}-${var.environment}-deployment-role"

  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Principal = {
          Federated = "arn:aws:iam::${var.aws_account_id}:oidc-provider/token.actions.githubusercontent.com"
        }
        Action = "sts:AssumeRoleWithWebIdentity"
        Condition = {
          StringEquals = {
            "token.actions.githubusercontent.com:aud" = "sts.amazonaws.com"
          }
          StringLike = {
            "token.actions.githubusercontent.com:sub" = "repo:${var.github_repo}:*"
          }
        }
      }
    ]
  })

  tags = {
    Environment = var.environment
    ManagedBy  = "Terraform"
  }
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">IAM Policy for Deployment</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># IAM policy with permissions for S3 and CloudFront
resource "aws_iam_role_policy" "deployment_policy" {
  name = "${var.project_name}-${var.environment}-deployment-policy"
  role = aws_iam_role.deployment_role.id

  policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Action = [
          "s3:PutObject",
          "s3:GetObject",
          "s3:DeleteObject",
          "s3:ListBucket"
        ]
        Resource = [
          "${aws_s3_bucket.webgl_bucket.arn}",
          "${aws_s3_bucket.webgl_bucket.arn}/*"
        ]
      },
      {
        Effect = "Allow"
        Action = [
          "cloudfront:CreateInvalidation",
          "cloudfront:GetInvalidation",
          "cloudfront:ListInvalidations"
        ]
        Resource = "${aws_cloudfront_distribution.webgl_distribution.arn}"
      }
    ]
  })
}</code>
        </div>
        </div>

        <h3 class="h3_class">üìù 4. Variables Configuration</h3>
        <p class="p_class">Define variables to make your code reusable:</p>

        <h4 class="h4_class collapsible">Variable Definitions</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># variables.tf

# Project name
variable "project_name" {
  description = "Name of the project"
  type        = string
  default     = "webgl"
}

# Environment
variable "environment" {
  description = "Environment name (dev, staging, prod)"
  type        = string
  validation {
    condition     = contains(["dev", "staging", "prod"], var.environment)
    error_message = "Environment must be one of: dev, staging, prod"
  }
}

# AWS Region
variable "aws_region" {
  description = "AWS region for resources"
  type        = string
  default     = "us-east-1"
}

# S3 Versioning
variable "enable_s3_versioning" {
  description = "Enable S3 bucket versioning"
  type        = bool
  default     = false
}

# CloudFront Cache TTL
variable "default_ttl" {
  description = "Default TTL for CloudFront cache (in seconds)"
  type        = number
  default     = 3600  # 1 hour
}

# Common Tags
variable "common_tags" {
  description = "Common tags for all resources"
  type        = map(string)
  default = {
    Project     = "WebGL Deployment"
    ManagedBy   = "Terraform"
  }
}</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">Environment-Specific Values</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># environments/dev/terraform.tfvars
environment          = "dev"
aws_region          = "us-east-1"
enable_s3_versioning = false
default_ttl         = 3600  # 1 hour (faster iteration)

# environments/prod/terraform.tfvars
environment          = "prod"
aws_region          = "us-east-1"
enable_s3_versioning = true   # Enable for rollback
default_ttl         = 31536000  # 1 year (longer cache)</code>
        </div>
        </div>

        <h3 class="h3_class">üì§ 5. Outputs Configuration</h3>
        <p class="p_class">Define outputs to get important values after deployment. <strong>Note:</strong> This project uses modules, so outputs reference module outputs:</p>

        <div class="code-block">
<code># outputs.tf

# S3 Bucket ID (from module)
output "s3_bucket_id" {
  description = "Name of the S3 bucket"
  value       = module.s3.bucket_id
}

# CloudFront Distribution Domain (from module)
output "cloudfront_distribution_domain_name" {
  description = "CloudFront distribution domain name"
  value       = module.cloudfront.distribution_domain_name
}

# CloudFront Distribution ID (from module)
output "cloudfront_distribution_id" {
  description = "CloudFront distribution ID"
  value       = module.cloudfront.distribution_id
}

# Full Deployment URL
output "deployment_url" {
  description = "Full HTTPS URL to access the site"
  value       = "https://${module.cloudfront.distribution_domain_name}"
}

# Example: Direct resource output (if not using modules)
# output "s3_bucket_id" {
#   value = aws_s3_bucket.webgl_bucket.id
# }</code>
        </div>

        <h3 class="h3_class">üß© 6. Using Modules</h3>
        <p class="p_class">Organize code into reusable modules:</p>

        <h4 class="h4_class collapsible">Module Structure</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code>modules/
‚îú‚îÄ‚îÄ s3/
‚îÇ   ‚îú‚îÄ‚îÄ main.tf      # S3 resources
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf # Module inputs
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf   # Module outputs
‚îî‚îÄ‚îÄ cloudfront/
    ‚îú‚îÄ‚îÄ main.tf
    ‚îú‚îÄ‚îÄ variables.tf
    ‚îî‚îÄ‚îÄ outputs.tf</code>
        </div>
        </div>

        <h4 class="h4_class collapsible">Using a Module</h4>
        <div class="collapsible-content">
        <div class="code-block">
<code># main.tf - Root module

# Use S3 module
module "s3" {
  source = "./modules/s3"

  bucket_name                 = "${var.project_name}-${var.environment}"
  environment                 = var.environment
  cloudfront_distribution_arn = module.cloudfront.distribution_arn
  enable_versioning           = var.enable_s3_versioning
  enable_cors                 = true
  common_tags                 = var.common_tags
}

# Use CloudFront module
module "cloudfront" {
  source = "./modules/cloudfront"

  distribution_name               = "${var.project_name}-${var.environment}"
  s3_bucket_regional_domain_name  = module.s3.bucket_regional_domain_name
  default_root_object             = var.default_root_object
  default_ttl                     = var.default_ttl
  common_tags                     = var.common_tags
}</code>
        </div>
        </div>

        <h3 class="h3_class">üîß 7. Provider Configuration</h3>
        <p class="p_class">Configure the AWS provider:</p>

        <div class="code-block">
<code># versions.tf

terraform {
  required_version = ">= 1.0"

  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
    random = {
      source  = "hashicorp/random"
      version = "~> 3.0"
    }
  }
}

# Provider configuration
provider "aws" {
  region  = var.aws_region
  profile = var.aws_profile != "" ? var.aws_profile : null

  default_tags {
    tags = var.common_tags
  }
}</code>
        </div>

        <h3 class="h3_class collapsible">üéØ 8. Complete Example: Main Configuration</h3>
        <div class="collapsible-content">
        <p class="p_class">Here's a complete example combining everything:</p>

        <div class="code-block">
<code># main.tf - Complete example

# Random ID for unique bucket names
resource "random_id" "bucket_suffix" {
  byte_length = 4
}

# S3 Bucket Module
module "s3" {
  source = "./modules/s3"

  bucket_name                 = "${var.project_name}-${var.environment}-${random_id.bucket_suffix.hex}"
  environment                 = var.environment
  cloudfront_distribution_arn = module.cloudfront.distribution_arn
  enable_versioning           = var.enable_s3_versioning
  enable_cors                 = true
  common_tags                 = var.common_tags
}

# CloudFront Module
module "cloudfront" {
  source = "./modules/cloudfront"

  distribution_name               = "${var.project_name}-${var.environment}"
  environment                     = var.environment
  unique_suffix                   = random_id.bucket_suffix.hex
  s3_bucket_regional_domain_name  = module.s3.bucket_regional_domain_name
  default_root_object             = var.default_root_object
  default_ttl                     = var.default_ttl
  common_tags                     = var.common_tags
}

# Outputs
output "cloudfront_url" {
  value = "https://${module.cloudfront.distribution_domain_name}"
}

output "s3_bucket_name" {
  value = module.s3.bucket_id
}</code>
        </div>

        <h3 class="h3_class">üí° Best Practices in Code</h3>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>Use Variables</strong> - Don't hardcode values</li>
          <li class="li_class">‚úÖ <strong>Add Descriptions</strong> - Document all variables</li>
          <li class="li_class">‚úÖ <strong>Use Modules</strong> - Organize code into reusable components</li>
          <li class="li_class">‚úÖ <strong>Tag Resources</strong> - Add tags for organization</li>
          <li class="li_class">‚úÖ <strong>Validate Inputs</strong> - Use validation blocks</li>
          <li class="li_class">‚úÖ <strong>Use Locals</strong> - Calculate values once, reuse multiple times</li>
          <li class="li_class">‚úÖ <strong>Add Dependencies</strong> - Use <code>depends_on</code> when needed</li>
        </ul>
        </div>

        <div class="info-box">
          <strong>üí° Tip:</strong> Start with simple configurations and gradually add complexity. Use modules to keep your code organized and reusable across environments.
        </div>
        </div>
      </section>

      <!-- Configure AWS Locally -->
      <section id="configure-aws-local" class="section">
        <h2 class="h2_class collapsible">7. Configure AWS on Local Machine</h2>
        <div class="collapsible-content">
        <p class="p_class">Before you can deploy infrastructure with Terraform, you need to configure AWS authentication on your local machine. This section covers everything you need to set up AWS CLI and authenticate with your AWS account.</p>

        <h3 class="h3_class">üìã Prerequisites</h3>
        <ol class="step-list">
          <li class="li_class"><strong>AWS Account</strong> - You need an active AWS account</li>
          <li class="li_class"><strong>AWS CLI</strong> - Command-line tool for interacting with AWS</li>
          <li class="li_class"><strong>IAM User with Access Keys</strong> - For programmatic access</li>
        </ol>

        <h3 class="h3_class">üîß Step 1: Install AWS CLI</h3>
        <p class="p_class">First, install the AWS Command Line Interface (CLI) on your machine.</p>

        <h4 class="h4_class">macOS Installation</h4>
        <div class="code-block">
<code># Using Homebrew (recommended)
brew install awscli

# Or using pip
pip3 install awscli</code>
        </div>

        <h4 class="h4_class">Linux Installation</h4>
        <div class="code-block">
<code># Download and install
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install</code>
        </div>

        <h4 class="h4_class">Windows Installation</h4>
        <p class="p_class">Download the AWS CLI MSI installer from <a href="https://aws.amazon.com/cli/" target="_blank">aws.amazon.com/cli</a> and run it.</p>

        <h4 class="h4_class">Verify Installation</h4>
        <div class="code-block">
<code># Check AWS CLI version
aws --version

# Should output something like: aws-cli/2.x.x</code>
        </div>

        <h3 class="h3_class">üë§ Step 2: Create IAM User and Access Keys</h3>
        <p class="p_class">You need an IAM user with programmatic access (access keys) to use with Terraform.</p>

        <h4 class="h4_class">Create IAM User in AWS Console</h4>
        <ol class="step-list">
          <li class="li_class">Log in to <a href="https://console.aws.amazon.com" target="_blank">AWS Console</a></li>
          <li class="li_class">Navigate to <strong>IAM</strong> ‚Üí <strong>Users</strong></li>
          <li class="li_class">Click <strong>Create user</strong></li>
          <li class="li_class">Enter username (e.g., <code>terraform-deploy</code>)</li>
          <li class="li_class">Select <strong>Provide user access to the AWS Management Console</strong> (optional) or <strong>Access key - Programmatic access</strong></li>
          <li class="li_class">Click <strong>Next</strong></li>
        </ol>

        <h4 class="h4_class">Attach Permissions</h4>
        <p class="p_class">Attach policies that grant necessary permissions. For this project, you need:</p>
        <ul class="ul_class">
          <li class="li_class"><strong>S3</strong> - Full access (for bucket creation and file uploads)</li>
          <li class="li_class"><strong>CloudFront</strong> - Full access (for distribution creation and invalidation)</li>
          <li class="li_class"><strong>IAM</strong> - Limited access (for role creation, if using CI/CD)</li>
        </ul>

        <div class="code-block">
<code># Recommended: Attach these managed policies
- AmazonS3FullAccess
- CloudFrontFullAccess
- IAMFullAccess (or create custom policy with least privilege)</code>
        </div>

        <div class="warning-box">
          <strong>‚ö†Ô∏è Security Best Practice:</strong> For production, create a custom IAM policy with only the minimum required permissions instead of using full access policies.
        </div>

        <h4 class="h4_class">Create Access Keys</h4>
        <ol class="step-list">
          <li class="li_class">After creating the user, go to the <strong>Security credentials</strong> tab</li>
          <li class="li_class">Scroll to <strong>Access keys</strong> section</li>
          <li class="li_class">Click <strong>Create access key</strong></li>
          <li class="li_class">Select <strong>Command Line Interface (CLI)</strong> as the use case</li>
          <li class="li_class">Click <strong>Next</strong> and then <strong>Create access key</strong></li>
          <li class="li_class"><strong>IMPORTANT:</strong> Download or copy both:
            <ul class="ul_class">
              <li class="li_class"><strong>Access Key ID</strong></li>
              <li class="li_class"><strong>Secret Access Key</strong></li>
            </ul>
          </li>
        </ol>

        <div class="warning-box">
          <strong>üîí Critical:</strong> The Secret Access Key is shown only once! Save it securely. If you lose it, you'll need to create a new access key.
        </div>

        <h3 class="h3_class">‚öôÔ∏è Step 3: Configure AWS CLI Profile</h3>
        <p class="p_class">This project uses an AWS profile named <code>deploy-config</code> for authentication. You can configure it interactively or non-interactively.</p>

        <h4 class="h4_class">Method 1: Interactive Setup (Recommended)</h4>
        <p class="p_class">This is the easiest method - AWS CLI will prompt you for each value:</p>
        <div class="code-block">
<code>aws configure --profile deploy-config</code>
        </div>

        <p class="p_class">You will be prompted to enter:</p>
        <ul class="ul_class">
          <li class="li_class"><strong>AWS Access Key ID:</strong> Your access key ID (e.g., <code>AKIAIOSFODNN7EXAMPLE</code>)</li>
          <li class="li_class"><strong>AWS Secret Access Key:</strong> Your secret access key</li>
          <li class="li_class"><strong>Default region name:</strong> e.g., <code>us-east-1</code> (recommended for CloudFront)</li>
          <li class="li_class"><strong>Default output format:</strong> <code>json</code> (recommended)</li>
        </ul>

        <h4 class="h4_class">Method 2: Non-Interactive Setup</h4>
        <p class="p_class">Use this method if you want to configure via command line or scripts:</p>
        <div class="code-block">
<code># Set access key ID
aws configure set aws_access_key_id YOUR_ACCESS_KEY_ID --profile deploy-config

# Set secret access key
aws configure set aws_secret_access_key YOUR_SECRET_ACCESS_KEY --profile deploy-config

# Set default region
aws configure set region us-east-1 --profile deploy-config

# Set output format
aws configure set output json --profile deploy-config</code>
        </div>

        <div class="info-box">
          <strong>üí° Tip:</strong> Replace <code>YOUR_ACCESS_KEY_ID</code> and <code>YOUR_SECRET_ACCESS_KEY</code> with your actual keys from Step 2.
        </div>

        <h4 class="h4_class">Method 3: Manual Configuration Files</h4>
        <p class="p_class">You can also edit the configuration files directly:</p>

        <h5>Edit Credentials File</h5>
        <div class="code-block">
<code># Open credentials file
nano ~/.aws/credentials  # or use your preferred editor

# Add the following section:
[deploy-config]
aws_access_key_id = YOUR_ACCESS_KEY_ID
aws_secret_access_key = YOUR_SECRET_ACCESS_KEY</code>
        </div>

        <h5>Edit Config File</h5>
        <div class="code-block">
<code># Open config file
nano ~/.aws/config  # or use your preferred editor

# Add the following section:
[profile deploy-config]
region = us-east-1
output = json</code>
        </div>

        <div class="warning-box">
          <strong>üîí Security:</strong> The credentials file contains sensitive information. Never commit it to version control! It should already be in your <code>.gitignore</code>.
        </div>

        <h3 class="h3_class">‚úÖ Step 4: Verify AWS Configuration</h3>
        <p class="p_class">Verify that your AWS profile is configured correctly:</p>

        <h4 class="h4_class">List All Profiles</h4>
        <div class="code-block">
<code># List all configured profiles
aws configure list-profiles</code>
        </div>
        <p class="p_class">Output should include <code>deploy-config</code>:</p>
        <div class="code-block">
<code>default
deploy-config</code>
        </div>

        <h4 class="h4_class">Check Profile Configuration</h4>
        <div class="code-block">
<code># View profile settings
aws configure list --profile deploy-config</code>
        </div>

        <h4 class="h4_class">Test Authentication</h4>
        <div class="code-block">
<code># Test the profile - this should return your AWS account info
aws sts get-caller-identity --profile deploy-config</code>
        </div>

        <p class="p_class">Expected output:</p>
        <div class="code-block">
<code>{
    "UserId": "AIDAXXXXXXXXXXXXXXXXX",
    "Account": "123456789012",
    "Arn": "arn:aws:iam::123456789012:user/terraform-deploy"
}</code>
        </div>

        <div class="success-box">
          <strong>‚úÖ Success!</strong> If you see your account ID and user ARN, your AWS profile is configured correctly and you're ready to use Terraform!
        </div>

        <h3 class="h3_class">üîç Step 5: Test AWS Access</h3>
        <p class="p_class">Test that you have the necessary permissions:</p>

        <h4 class="h4_class">Test S3 Access</h4>
        <div class="code-block">
<code># List S3 buckets (should work if you have S3 permissions)
aws s3 ls --profile deploy-config</code>
        </div>

        <h4 class="h4_class">Test IAM Access</h4>
        <div class="code-block">
<code># Get your IAM user info
aws iam get-user --profile deploy-config</code>
        </div>

        <h3 class="h3_class">üåç Using Different AWS Regions</h3>
        <p class="p_class">You can configure different regions for different profiles or override the region per command:</p>

        <div class="code-block">
<code># Use a different region for a specific command
aws s3 ls --profile deploy-config --region eu-west-1

# Or set region in environment variable
export AWS_DEFAULT_REGION=eu-west-1
aws s3 ls --profile deploy-config</code>
        </div>

        <h3 class="h3_class">üîÑ Using a Different Profile Name</h3>
        <p class="p_class">If you want to use a different profile name instead of <code>deploy-config</code>:</p>

        <div class="code-block">
<code># Set environment variable before running scripts
export AWS_PROFILE_NAME=my-custom-profile

# Then run your scripts normally
./scripts/plan.sh dev</code>
        </div>

        <h3 class="h3_class">üìÅ Configuration File Locations</h3>
        <p class="p_class">AWS CLI stores configuration in these files:</p>
        <table class="table_class">
          <thead>
            <tr>
              <th>File</th>
              <th>Location</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>credentials</code></td>
              <td><code>~/.aws/credentials</code></td>
              <td>Stores access keys (sensitive!)</td>
            </tr>
            <tr>
              <td><code>config</code></td>
              <td><code>~/.aws/config</code></td>
              <td>Stores region and output format</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">üîí Security Best Practices</h3>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>Never Commit Credentials</strong> - Add <code>~/.aws/</code> to <code>.gitignore</code></li>
          <li class="li_class">‚úÖ <strong>Use Least Privilege</strong> - Grant only necessary permissions</li>
          <li class="li_class">‚úÖ <strong>Rotate Access Keys</strong> - Change keys regularly (every 90 days recommended)</li>
          <li class="li_class">‚úÖ <strong>Use IAM Roles</strong> - For production, prefer IAM roles over access keys</li>
          <li class="li_class">‚úÖ <strong>Enable MFA</strong> - Use Multi-Factor Authentication for your AWS account</li>
          <li class="li_class">‚úÖ <strong>Monitor Usage</strong> - Check CloudTrail logs for unusual activity</li>
          <li class="li_class">‚úÖ <strong>Separate Accounts</strong> - Use different AWS accounts for dev/staging/prod</li>
        </ul>

        <h3 class="h3_class">üîß Troubleshooting</h3>

        <h4 class="h4_class">Issue: "Unable to locate credentials"</h4>
        <p class="p_class"><strong>Solution:</strong> Make sure you've configured the profile:</p>
        <div class="code-block">
<code>aws configure --profile deploy-config</code>
        </div>

        <h4 class="h4_class">Issue: "Access Denied"</h4>
        <p class="p_class"><strong>Solution:</strong> Check that your IAM user has the necessary permissions. Verify with:</p>
        <div class="code-block">
<code>aws iam list-attached-user-policies --user-name terraform-deploy --profile deploy-config</code>
        </div>

        <h4 class="h4_class">Issue: "Invalid credentials"</h4>
        <p class="p_class"><strong>Solution:</strong> Your access keys may have been rotated or deleted. Create new access keys in the IAM console and reconfigure:</p>
        <div class="code-block">
<code>aws configure --profile deploy-config</code>
        </div>

        <h4 class="h4_class">Issue: "Profile not found"</h4>
        <p class="p_class"><strong>Solution:</strong> Verify the profile exists:</p>
        <div class="code-block">
<code># List profiles
aws configure list-profiles

# If deploy-config is missing, configure it
aws configure --profile deploy-config</code>
        </div>

        <h3 class="h3_class">üìã Quick Reference</h3>
        <div class="code-block">
<code># Configure AWS profile
aws configure --profile deploy-config

# Verify profile
aws sts get-caller-identity --profile deploy-config

# List all profiles
aws configure list-profiles

# View profile configuration
aws configure list --profile deploy-config

# Test S3 access
aws s3 ls --profile deploy-config

# Use different region
aws s3 ls --profile deploy-config --region eu-west-1</code>
        </div>

        <div class="success-box">
          <strong>‚úÖ Next Steps:</strong> Once AWS is configured, you can proceed to install Terraform and start deploying infrastructure!
        </div>
        </div>
      </section>

      <!-- Prerequisites -->
      <section id="prerequisites" class="section">
        <h2 class="h2_class collapsible">8. Prerequisites & Setup</h2>
        <div class="collapsible-content">
        <p class="p_class">Now that AWS is configured, let's set up the rest of your local environment:</p>

        <h3 class="h3_class">Prerequisites</h3>
        <ol class="step-list">
          <li class="li_class"><strong>AWS CLI</strong> - ‚úÖ Should be installed and configured (see previous section)</li>
          <li class="li_class"><strong>Terraform</strong> - Install from <a href="https://www.terraform.io/downloads" target="_blank">terraform.io/downloads</a></li>
          <li class="li_class"><strong>Git</strong> - For cloning the repository</li>
        </ol>

        <h3 class="h3_class">Install Terraform</h3>
        <h4 class="h4_class">macOS Installation</h4>
        <div class="code-block">
<code># Using Homebrew (recommended)
brew install terraform

# Verify installation
terraform version</code>
        </div>

        <h4 class="h4_class">Linux Installation</h4>
        <div class="code-block">
<code># Download Terraform
wget https://releases.hashicorp.com/terraform/1.6.0/terraform_1.6.0_linux_amd64.zip
unzip terraform_1.6.0_linux_amd64.zip
sudo mv terraform /usr/local/bin/

# Verify installation
terraform version</code>
        </div>

        <h4 class="h4_class">Windows Installation</h4>
        <p class="p_class">Download Terraform from <a href="https://www.terraform.io/downloads" target="_blank">terraform.io/downloads</a> and add it to your PATH.</p>

        <h3 class="h3_class">Clone Repository</h3>
        <div class="code-block">
<code>git clone https://github.com/m-saad-siddique/static-site-IAC-deploy.git
cd static-site-IAC-deploy</code>
        </div>

        <h3 class="h3_class">Verify Setup</h3>
        <div class="code-block">
<code># Check AWS CLI
aws --version

# Check Terraform
terraform version

# Verify AWS profile
aws sts get-caller-identity --profile deploy-config</code>
        </div>

        <div class="success-box">
          <strong>‚úÖ Ready!</strong> If all commands work, you're ready to start deploying infrastructure!
        </div>
        </div>
      </section>

      <hr class="section-separator">

      <!-- Deployment Workflow Visual -->
      <div class="architecture-diagram" style="margin: 3rem 0;">
        <h3 style="text-align: center; color: #667eea; margin-bottom: 1.5rem; font-size: 1.3rem;">üìã Deployment Workflow - Click any step to jump there</h3>
        <div class="flow-diagram-visual">
          <a href="#step1-initialize" style="text-decoration: none; color: inherit;">
            <div class="flow-box" style="cursor: pointer; transition: all 0.3s ease;">
              <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">1Ô∏è‚É£</div>
              <div style="font-weight: 700;">Step 1: Initialize</div>
              <div style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">terraform init</div>
            </div>
          </a>
          <div class="flow-arrow">‚Üì</div>
          <a href="#step2-plan" style="text-decoration: none; color: inherit;">
            <div class="flow-box" style="cursor: pointer; transition: all 0.3s ease;">
              <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">2Ô∏è‚É£</div>
              <div style="font-weight: 700;">Step 2: Plan</div>
              <div style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">terraform plan</div>
            </div>
          </a>
          <div class="flow-arrow">‚Üì</div>
          <a href="#step3-apply" style="text-decoration: none; color: inherit;">
            <div class="flow-box" style="cursor: pointer; transition: all 0.3s ease;">
              <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">3Ô∏è‚É£</div>
              <div style="font-weight: 700;">Step 3: Apply</div>
              <div style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">terraform apply</div>
            </div>
          </a>
          <div class="flow-arrow">‚Üì</div>
          <a href="#step4-upload" style="text-decoration: none; color: inherit;">
            <div class="flow-box" style="cursor: pointer; transition: all 0.3s ease;">
              <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">4Ô∏è‚É£</div>
              <div style="font-weight: 700;">Step 4: Upload Files</div>
              <div style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">aws s3 sync</div>
            </div>
          </a>
          <div class="flow-arrow">‚Üì</div>
          <a href="#step5-verify" style="text-decoration: none; color: inherit;">
            <div class="flow-box" style="background: #d4edda; border-color: #28a745; cursor: pointer; transition: all 0.3s ease;">
              <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">5Ô∏è‚É£</div>
              <div style="font-weight: 700;">Step 5: Verify ‚úÖ</div>
              <div style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">terraform output</div>
            </div>
          </a>
        </div>
        <p style="text-align: center; margin-top: 1.5rem; color: #666; font-size: 0.9rem;">
          üí° <strong>Tip:</strong> Follow these steps in order for a successful deployment
        </p>
      </div>

      <!-- Step 1: Initialize -->
      <section id="step1-initialize" class="section">
        <h2 class="h2_class">9. Step 1: Initialize Terraform</h2>
        
        <p class="p_class">Before you can deploy anything, you need to initialize Terraform. This downloads the AWS provider plugin and sets up your workspace.</p>

        <h3 class="h3_class">Manual Steps</h3>
        <p class="p_class">Run these commands to initialize Terraform:</p>
        <div class="code-block">
<code># Set AWS profile
export AWS_PROFILE=deploy-config

# Initialize Terraform (downloads AWS provider)
terraform init

# Check current workspace
terraform workspace show</code>
        </div>

        <h3 class="h3_class">Expected Output</h3>
        <div class="code-block">
<code>Initializing Terraform...
Downloading AWS provider...
Terraform has been successfully initialized!

Current workspace: default</code>
        </div>

        <h3 class="h3_class">Quick Script (Optional)</h3>
        <p class="p_class">Or use the helper script that does the same:</p>
        <div class="code-block">
<code>./scripts/init.sh</code>
        </div>
      </section>

      <!-- Step 2: Plan -->
      <section id="step2-plan" class="section">
        <h2 class="h2_class">10. Step 2: Plan Your Deployment</h2>
        
        <p class="p_class">Before creating resources, always run a plan. This shows you exactly what Terraform will create, modify, or destroy in AWS.</p>

        <h3 class="h3_class">Manual Steps</h3>
        <p class="p_class">Create a plan to preview what Terraform will create:</p>
        <div class="code-block">
<code># Set AWS profile
export AWS_PROFILE=deploy-config

# Initialize (if using remote backend)
terraform init -backend-config=backend/dev.hcl

# Select or create workspace
terraform workspace select dev || terraform workspace new dev

# Create plan with environment variables
terraform plan -var-file=environments/dev/terraform.tfvars -out=tfplan-dev.out</code>
        </div>

        <h3 class="h3_class">What You'll See</h3>
        <div class="code-block">
<code>Terraform will perform the following actions:

  # module.s3.aws_s3_bucket.main will be created
  + resource "aws_s3_bucket" "main" {
      + bucket = "webgl-deploy-dev-abc123"
    }

  # module.cloudfront.aws_cloudfront_distribution.main will be created
  + resource "aws_cloudfront_distribution" "main" {
      + domain_name = "..."
    }

Plan: 5 to add, 0 to change, 0 to destroy.</code>
        </div>

        <h3 class="h3_class">Understanding the Symbols</h3>
        <div class="code-block">
<code>+  = Will be created
-  = Will be destroyed  
~  = Will be modified
-/+ = Will be destroyed and recreated</code>
        </div>

        <div class="warning-box">
          <strong>‚ö†Ô∏è Always review the plan!</strong> Check that the right resources are being created for the correct environment.
        </div>

        <h3 class="h3_class">Quick Script (Optional)</h3>
        <p class="p_class">Or use the helper script:</p>
        <div class="code-block">
<code>./scripts/plan.sh dev</code>
        </div>
      </section>

      <!-- Step 3: Apply -->
      <section id="step3-apply" class="section">
        <h2 class="h2_class">11. Step 3: Apply Infrastructure</h2>
        
        <p class="p_class">After reviewing the plan, apply it to actually create the resources in AWS. This will create your S3 bucket and CloudFront distribution.</p>

        <h3 class="h3_class">Manual Steps</h3>
        <p class="p_class">Apply the plan to create resources in AWS:</p>
        <div class="code-block">
<code># Set AWS profile
export AWS_PROFILE=deploy-config

# Select workspace
terraform workspace select dev

# Apply using saved plan (recommended)
terraform apply tfplan-dev.out

# OR apply directly (will prompt for confirmation)
terraform apply -var-file=environments/dev/terraform.tfvars

# View outputs
terraform output</code>
        </div>

        <h3 class="h3_class">What Happens</h3>
        <div class="code-block">
<code># Terraform will:
1. Create S3 bucket (takes ~10 seconds)
2. Create CloudFront distribution (takes ~2 minutes)
3. Configure security (OAC, policies)
4. Show you the URLs</code>
        </div>

        <h3 class="h3_class">Expected Output</h3>
        <div class="code-block">
<code>aws_s3_bucket.main: Creating...
aws_s3_bucket.main: Creation complete
aws_cloudfront_distribution.main: Creating...
aws_cloudfront_distribution.main: Creation complete

Apply complete! Resources: 5 added.

Outputs:
s3_bucket_id = "webgl-deploy-dev-abc123"
deployment_url = "https://d1234567890.cloudfront.net"</code>
        </div>

        <div class="warning-box">
          <strong>‚è±Ô∏è Wait Time:</strong> CloudFront takes 15-20 minutes to fully deploy. URL works immediately but may show "not ready" until complete.
        </div>

        <h3 class="h3_class">Quick Script (Optional)</h3>
        <p class="p_class">Or use the helper script:</p>
        <div class="code-block">
<code>./scripts/apply.sh dev</code>
        </div>
      </section>

      <!-- Step 4: Upload -->
      <section id="step4-upload" class="section">
        <h2 class="h2_class">12. Step 4: Upload Your Static Site</h2>
        
        <p class="p_class">Now that your infrastructure is ready, upload your static website files (HTML, CSS, JS) to the S3 bucket. Then invalidate the CloudFront cache so users see the latest version.</p>

        <h3 class="h3_class">Manual Steps</h3>
        <p class="p_class">Upload your static site files to S3 and invalidate CloudFront cache:</p>
        <div class="code-block">
<code># Set AWS profile
export AWS_PROFILE=deploy-config

# Select workspace
terraform workspace select dev

# Get bucket name from Terraform output
BUCKET=$(terraform output -raw s3_bucket_id)

# Upload files to S3 (replace ./build with your build directory)
aws s3 sync ./build s3://$BUCKET/ --delete

# Get CloudFront distribution ID
DIST_ID=$(terraform output -raw cloudfront_distribution_id)

# Invalidate CloudFront cache
aws cloudfront create-invalidation \
  --distribution-id $DIST_ID \
  --paths "/*"</code>
        </div>

        <h3 class="h3_class">Common Build Directories</h3>
        <div class="code-block">
<code># React/Vue/Angular
aws s3 sync ./build s3://$BUCKET/ --delete
aws s3 sync ./dist s3://$BUCKET/ --delete

# WebGL (Unity/Unreal)
aws s3 sync ./WebGLBuild s3://$BUCKET/ --delete

# Static HTML
aws s3 sync ./public s3://$BUCKET/ --delete</code>
        </div>

        <h3 class="h3_class">Expected Output</h3>
        <div class="code-block">
<code>upload: build/index.html to s3://webgl-deploy-dev-abc123/index.html
upload: build/style.css to s3://webgl-deploy-dev-abc123/style.css
...
CloudFront invalidation created: I1234567890</code>
        </div>

        <h3 class="h3_class">Quick Script (Optional)</h3>
        <p class="p_class">Or use the helper script:</p>
        <div class="code-block">
<code>./scripts/upload.sh dev ./build</code>
        </div>
      </section>

      <!-- Step 5: Verify -->
      <section id="step5-verify" class="section">
        <h2 class="h2_class">13. Step 5: Verify Deployment</h2>
        
        <p class="p_class">Finally, get your CloudFront URL and verify that your site is live and working correctly.</p>

        <h3 class="h3_class">Manual Steps</h3>
        <p class="p_class">Get your deployment URL and verify everything works:</p>
        <div class="code-block">
<code># Set AWS profile
export AWS_PROFILE=deploy-config

# Select workspace
terraform workspace select dev

# View all outputs (includes your CloudFront URL)
terraform output

# Get just the deployment URL
terraform output -raw deployment_url

# List files in S3 bucket
BUCKET=$(terraform output -raw s3_bucket_id)
aws s3 ls s3://$BUCKET/ --recursive</code>
        </div>

        <h3 class="h3_class">Expected Output</h3>
        <div class="code-block">
<code>s3_bucket_id = "webgl-deploy-dev-abc123"
deployment_url = "https://d1234567890.cloudfront.net"

# Copy the deployment_url and open in browser!</code>
        </div>

        <h3 class="h3_class">Quick Tests</h3>
        <div class="code-block">
<code># 1. Open URL in browser
# 2. Check it loads (may take 15-20 min for CloudFront)
# 3. Check HTTPS (should be secure)
# 4. Test all pages work</code>
        </div>

        <h3 class="h3_class">Quick Script (Optional)</h3>
        <p class="p_class">Or use the helper script:</p>
        <div class="code-block">
<code>./scripts/outputs.sh dev</code>
        </div>

        <div class="success-box">
          <strong>‚úÖ Done!</strong> Your site is live at the CloudFront URL! üéâ
        </div>
      </section>

      <!-- CI/CD Setup -->
      <section id="cicd-setup" class="section">
        <h2 class="h2_class collapsible">14. Configure CI/CD with GitHub Actions</h2>
        <div class="collapsible-content">
        <p class="p_class">Set up automated deployments using GitHub Actions. This allows your infrastructure and site to deploy automatically when you push code to GitHub, without storing AWS credentials in GitHub.</p>

        <h3 class="h3_class">üéØ What is CI/CD?</h3>
        <p class="p_class"><strong>CI/CD</strong> (Continuous Integration/Continuous Deployment) automates your deployment process:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>Automatic Deployment</strong> - Deploys when you push code</li>
          <li class="li_class">‚úÖ <strong>No Manual Steps</strong> - No need to run scripts locally</li>
          <li class="li_class">‚úÖ <strong>Secure</strong> - Uses OIDC (OpenID Connect) instead of storing AWS keys</li>
          <li class="li_class">‚úÖ <strong>Consistent</strong> - Same process every time</li>
          <li class="li_class">‚úÖ <strong>Traceable</strong> - All deployments logged in GitHub Actions</li>
        </ul>

        <div class="info-box">
          <strong>üîê Security:</strong> CI/CD uses IAM roles with OIDC (OpenID Connect) instead of AWS access keys. This means no secrets are stored in GitHub - authentication happens securely through AWS!
        </div>

        <h3 class="h3_class">üìã Prerequisites</h3>
        <p class="p_class">Before setting up CI/CD, ensure you have:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ AWS account configured locally (see Section 7)</li>
          <li class="li_class">‚úÖ GitHub repository with your code</li>
          <li class="li_class">‚úÖ Admin access to the GitHub repository</li>
          <li class="li_class">‚úÖ Terraform infrastructure already deployed (or ready to deploy)</li>
        </ul>

        <h3 class="h3_class">üîß Step 1: Set Up Remote State Backend</h3>
        <p class="p_class">CI/CD requires remote state (S3 + DynamoDB) so multiple deployments can share the same state file.</p>

        <h4 class="h4_class">Create Remote State Resources</h4>
        <p class="p_class">Use the helper script to create S3 bucket and DynamoDB table for Terraform state:</p>
        <div class="code-block">
<code># For staging environment
./scripts/setup-remote-state.sh staging

# For production environment
./scripts/setup-remote-state.sh prod</code>
        </div>

        <p class="p_class">This script:</p>
        <ul class="ul_class">
          <li class="li_class">Creates S3 bucket for state storage</li>
          <li class="li_class">Creates DynamoDB table for state locking</li>
          <li class="li_class">Updates <code>backend/staging.hcl</code> or <code>backend/prod.hcl</code> automatically</li>
        </ul>

        <h4 class="h4_class">Verify Backend Configuration</h4>
        <p class="p_class">Check that the backend files are updated:</p>
        <div class="code-block">
<code># Check staging backend
cat backend/staging.hcl

# Should show:
# bucket         = "terraform-state-staging-..."
# key            = "static-site-deploy/staging/terraform.tfstate"
# region         = "us-east-1"
# dynamodb_table = "terraform-state-lock-staging-..."
# encrypt        = true</code>
        </div>

        <h3 class="h3_class">üîê Step 2: Create IAM Roles with OIDC</h3>
        <p class="p_class">Create IAM roles that GitHub Actions can assume using OIDC (no AWS keys needed!).</p>

        <h4 class="h4_class">Get Your AWS Account ID</h4>
        <div class="code-block">
<code># Get your AWS account ID
AWS_ACCOUNT_ID=$(aws sts get-caller-identity --query Account --output text)
echo $AWS_ACCOUNT_ID</code>
        </div>

        <h4 class="h4_class">Get Your GitHub Repository</h4>
        <p class="p_class">Your repository should be in the format: <code>owner/repository-name</code></p>
        <p class="p_class">Example: <code>m-saad-siddique/static-site-IAC-deploy</code></p>

        <h4 class="h4_class">Create IAM Roles</h4>
        <p class="p_class">Run the setup script for each environment:</p>
        <div class="code-block">
<code># Create staging IAM role
./scripts/setup-iam-oidc.sh staging $AWS_ACCOUNT_ID m-saad-siddique/static-site-IAC-deploy

# Create production IAM role
./scripts/setup-iam-oidc.sh prod $AWS_ACCOUNT_ID m-saad-siddique/static-site-IAC-deploy</code>
        </div>

        <p class="p_class"><strong>Replace:</strong></p>
        <ul class="ul_class">
          <li class="li_class"><code>$AWS_ACCOUNT_ID</code> - Your AWS account ID from the previous step</li>
          <li class="li_class"><code>m-saad-siddique/static-site-IAC-deploy</code> - Your GitHub repository (owner/repo)</li>
        </ul>

        <h4 class="h4_class">What the Script Creates</h4>
        <p class="p_class">The script automatically creates:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>OIDC Provider</strong> - Connects AWS to GitHub (created once per AWS account)</li>
          <li class="li_class">‚úÖ <strong>IAM Policy</strong> - Permissions for S3, CloudFront, and Terraform operations</li>
          <li class="li_class">‚úÖ <strong>IAM Role</strong> - Can be assumed by GitHub Actions</li>
          <li class="li_class">‚úÖ <strong>Trust Policy</strong> - Allows GitHub Actions to assume the role</li>
        </ul>

        <h4 class="h4_class">Capture Role ARNs</h4>
        <p class="p_class">The script will output the role ARN. <strong>Copy this value</strong> - you'll need it for GitHub Secrets:</p>
        <div class="code-block">
<code>‚úÖ IAM Role created successfully!

Role ARN: arn:aws:iam::123456789012:role/webgl-staging-deployment-role

üìù Next steps:
1. Add this ARN to GitHub Secrets as: AWS_ROLE_ARN_STAGING
2. Add AWS_ACCOUNT_ID to GitHub Secrets: 123456789012</code>
        </div>

        <div class="warning-box">
          <strong>‚ö†Ô∏è Important:</strong> Save the Role ARN from the script output. You'll need it in the next step!
        </div>

        <h3 class="h3_class">üîë Step 3: Configure GitHub Secrets</h3>
        <p class="p_class">Add secrets to your GitHub repository so workflows can authenticate with AWS.</p>

        <h4 class="h4_class">Navigate to GitHub Secrets</h4>
        <ol class="step-list">
          <li class="li_class">Go to your GitHub repository</li>
          <li class="li_class">Click <strong>Settings</strong> (top menu)</li>
          <li class="li_class">Click <strong>Secrets and variables</strong> ‚Üí <strong>Actions</strong> (left sidebar)</li>
          <li class="li_class">Click <strong>New repository secret</strong></li>
        </ol>

        <h4 class="h4_class">Add Required Secrets</h4>
        <p class="p_class">Add these three secrets:</p>

        <h5>Secret 1: AWS_ACCOUNT_ID</h5>
        <ul class="ul_class">
          <li class="li_class"><strong>Name:</strong> <code>AWS_ACCOUNT_ID</code></li>
          <li class="li_class"><strong>Value:</strong> Your AWS account ID (e.g., <code>123456789012</code>)</li>
        </ul>

        <h5>Secret 2: AWS_ROLE_ARN_STAGING</h5>
        <ul class="ul_class">
          <li class="li_class"><strong>Name:</strong> <code>AWS_ROLE_ARN_STAGING</code></li>
          <li class="li_class"><strong>Value:</strong> The staging role ARN from Step 2 (e.g., <code>arn:aws:iam::123456789012:role/webgl-staging-deployment-role</code>)</li>
        </ul>

        <h5>Secret 3: AWS_ROLE_ARN_PROD</h5>
        <ul class="ul_class">
          <li class="li_class"><strong>Name:</strong> <code>AWS_ROLE_ARN_PROD</code></li>
          <li class="li_class"><strong>Value:</strong> The production role ARN from Step 2 (e.g., <code>arn:aws:iam::123456789012:role/webgl-prod-deployment-role</code>)</li>
        </ul>

        <div class="success-box">
          <strong>‚úÖ Security Note:</strong> GitHub Secrets are encrypted and never exposed in logs. They're only available to GitHub Actions workflows.
        </div>

        <h3 class="h3_class">üìù Step 4: Deploy Infrastructure with Terraform</h3>
        <p class="p_class">Deploy your infrastructure using Terraform. The IAM roles are already created, so Terraform can use them.</p>

        <h4 class="h4_class">Deploy Staging</h4>
        <div class="code-block">
<code># Plan staging deployment
./scripts/plan.sh staging

# Apply staging infrastructure
./scripts/apply.sh staging</code>
        </div>

        <h4 class="h4_class">Deploy Production</h4>
        <div class="code-block">
<code># Plan production deployment
./scripts/plan.sh prod

# Apply production infrastructure
./scripts/apply.sh prod</code>
        </div>

        <h3 class="h3_class">‚öôÔ∏è Step 5: Understand GitHub Actions Workflows</h3>
        <p class="p_class">The project includes pre-configured workflows in <code>.github/workflows/</code>:</p>

        <h4 class="h4_class">Workflow Files</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>File</th>
              <th>Triggers On</th>
              <th>Environment</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>deploy-staging.yml</code></td>
              <td>Push to <code>staging</code> branch</td>
              <td>Staging</td>
            </tr>
            <tr>
              <td><code>deploy-prod.yml</code></td>
              <td>Push to <code>main</code> branch</td>
              <td>Production</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">What Workflows Do</h4>
        <p class="p_class">Each workflow performs these steps:</p>
        <ol class="step-list">
          <li class="li_class"><strong>Checkout Code</strong> - Gets code from repository</li>
          <li class="li_class"><strong>Configure AWS Credentials</strong> - Uses OIDC to assume IAM role</li>
          <li class="li_class"><strong>Setup Terraform</strong> - Installs Terraform</li>
          <li class="li_class"><strong>Initialize Terraform</strong> - Downloads providers, configures backend</li>
          <li class="li_class"><strong>Select Workspace</strong> - Chooses environment workspace</li>
          <li class="li_class"><strong>Plan & Apply</strong> - Creates/updates infrastructure</li>
          <li class="li_class"><strong>Upload Files</strong> - Syncs build files to S3</li>
          <li class="li_class"><strong>Invalidate CloudFront</strong> - Clears cache</li>
        </ol>

        <h4 class="h4_class">Example Workflow Structure</h4>
        <div class="code-block">
<code>name: Deploy to Staging

on:
  push:
    branches: [staging]

permissions:
  id-token: write   # Required for OIDC
  contents: read

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          role-to-assume: ${{ secrets.AWS_ROLE_ARN_STAGING }}
          aws-region: us-east-1
      
      - name: Setup Terraform
        uses: hashicorp/setup-terraform@v3
      
      - name: Terraform Init
        run: terraform init -backend-config=backend/staging.hcl
      
      - name: Terraform Apply
        run: terraform apply -auto-approve</code>
        </div>

        <h3 class="h3_class">üöÄ Step 6: Test CI/CD</h3>
        <p class="p_class">Test your CI/CD setup by pushing code to trigger a deployment.</p>

        <h4 class="h4_class">Test Staging Deployment</h4>
        <div class="code-block">
<code># Make a small change (e.g., update a comment)
echo "# Test CI/CD" >> README.md

# Commit and push to staging branch
git add README.md
git commit -m "Test CI/CD deployment"
git push origin staging</code>
        </div>

        <h4 class="h4_class">Monitor Deployment</h4>
        <ol class="step-list">
          <li class="li_class">Go to your GitHub repository</li>
          <li class="li_class">Click <strong>Actions</strong> tab</li>
          <li class="li_class">You should see "Deploy to Staging" workflow running</li>
          <li class="li_class">Click on the workflow to see detailed logs</li>
        </ol>

        <h4 class="h4_class">Verify Deployment</h4>
        <p class="p_class">Once the workflow completes:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ Check the workflow shows green checkmark (success)</li>
          <li class="li_class">‚úÖ Verify your site is updated at the CloudFront URL</li>
          <li class="li_class">‚úÖ Check workflow logs for any warnings</li>
            </ul>

        <h3 class="h3_class">üîÑ How CI/CD Works (OIDC Flow)</h3>
        <p class="p_class">Here's how the secure authentication works:</p>
        <div class="flow-diagram-visual">
          <div class="flow-box">1. Push to GitHub</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">2. GitHub Actions Starts</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">3. Request OIDC Token</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">4. AWS Validates & Issues Credentials</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">5. Terraform Deploys Infrastructure</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">6. Upload Files to S3</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box">7. Invalidate CloudFront Cache</div>
          <div class="flow-arrow">‚Üì</div>
          <div class="flow-box" style="background: #d4edda; border-color: #28a745;">‚úÖ Site Live!</div>
        </div>

        <div class="info-box">
          <strong>üîê Security Benefits:</strong>
          <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
            <li class="li_class">No AWS keys stored in GitHub</li>
            <li class="li_class">Temporary credentials (expire after 1 hour)</li>
            <li class="li_class">Scoped to specific repository</li>
            <li class="li_class">Can restrict to specific branches</li>
            <li class="li_class">All actions logged in CloudTrail</li>
          </ul>
        </div>

        <h3 class="h3_class">üåø Branch Strategy</h3>
        <p class="p_class">This project uses a three-branch workflow:</p>
        <table class="table_class">
          <thead>
            <tr>
              <th>Branch</th>
              <th>Environment</th>
              <th>CI/CD</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>dev</code></td>
              <td>Development</td>
              <td>Optional</td>
              <td>Local testing and development</td>
            </tr>
            <tr>
              <td><code>staging</code></td>
              <td>Staging</td>
              <td>‚úÖ Auto-deploy</td>
              <td>Pre-production testing</td>
            </tr>
            <tr>
              <td><code>main</code></td>
              <td>Production</td>
              <td>‚úÖ Auto-deploy</td>
              <td>Live production environment</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">üîß Step 7: Customize Workflows (Optional)</h3>
        <p class="p_class">You can customize workflows to match your needs:</p>

        <h4 class="h4_class">Change Build Directory</h4>
        <p class="p_class">If your build files are in a different directory:</p>
        <div class="code-block">
<code># In .github/workflows/deploy-staging.yml
# Find the "Upload to S3" step and change:
- name: Upload to S3
  run: |
    aws s3 sync ./your-build-directory s3://$BUCKET/ --delete</code>
        </div>

        <h4 class="h4_class">Add Build Step</h4>
        <p class="p_class">If you need to build your site before deploying:</p>
        <div class="code-block">
<code># Add before "Upload to S3" step:
- name: Build Static Site
  run: |
    npm install
    npm run build
    # Or your build commands</code>
        </div>

        <h4 class="h4_class">Add Notifications</h4>
        <p class="p_class">Get notified when deployments complete:</p>
        <div class="code-block">
<code># Add at the end of workflow:
- name: Notify on Success
  if: success()
  run: |
    echo "‚úÖ Deployment successful!"
    # Add Slack/Discord/email notification here</code>
        </div>

        <h3 class="h3_class">üîç Troubleshooting CI/CD</h3>

        <h4 class="h4_class">Issue: "Not authorized to perform sts:AssumeRoleWithWebIdentity"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <ul class="ul_class">
          <li class="li_class">Verify OIDC provider exists: <code>aws iam list-open-id-connect-providers</code></li>
          <li class="li_class">Check repository name matches in IAM role trust policy</li>
          <li class="li_class">Ensure <code>id-token: write</code> permission is in workflow</li>
        </ul>

        <h4 class="h4_class">Issue: "Role ARN not found"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <ul class="ul_class">
          <li class="li_class">Verify GitHub Secret <code>AWS_ROLE_ARN_STAGING</code> or <code>AWS_ROLE_ARN_PROD</code> exists</li>
          <li class="li_class">Check the ARN is correct (no typos)</li>
          <li class="li_class">Verify the role exists in AWS: <code>aws iam get-role --role-name webgl-staging-deployment-role</code></li>
        </ul>

        <h4 class="h4_class">Issue: "State lock error"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <ul class="ul_class">
          <li class="li_class">Another deployment might be running - wait for it to complete</li>
          <li class="li_class">If stuck, manually unlock: Check DynamoDB table for lock entry</li>
        </ul>

        <h4 class="h4_class">Issue: "Backend configuration not found"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <ul class="ul_class">
          <li class="li_class">Verify <code>backend/staging.hcl</code> or <code>backend/prod.hcl</code> exists</li>
          <li class="li_class">Check the file contains valid bucket and table names</li>
          <li class="li_class">Ensure remote state resources were created with <code>setup-remote-state.sh</code></li>
        </ul>

        <h4 class="h4_class">Issue: "Workflow not triggering"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <ul class="ul_class">
          <li class="li_class">Check workflow file is in <code>.github/workflows/</code> directory</li>
          <li class="li_class">Verify branch name matches workflow trigger (e.g., <code>staging</code> or <code>main</code>)</li>
          <li class="li_class">Check GitHub Actions is enabled in repository settings</li>
        </ul>

        <h3 class="h3_class">üìã Quick Reference</h3>
        <div class="code-block">
<code># 1. Setup remote state
./scripts/setup-remote-state.sh staging
./scripts/setup-remote-state.sh prod

# 2. Get AWS account ID
AWS_ACCOUNT_ID=$(aws sts get-caller-identity --query Account --output text)

# 3. Create IAM roles
./scripts/setup-iam-oidc.sh staging $AWS_ACCOUNT_ID m-saad-siddique/static-site-IAC-deploy
./scripts/setup-iam-oidc.sh prod $AWS_ACCOUNT_ID m-saad-siddique/static-site-IAC-deploy

# 4. Add GitHub Secrets:
#    - AWS_ACCOUNT_ID
#    - AWS_ROLE_ARN_STAGING
#    - AWS_ROLE_ARN_PROD

# 5. Deploy infrastructure
./scripts/apply.sh staging
./scripts/apply.sh prod

# 6. Test CI/CD
git push origin staging  # Triggers staging deployment
git push origin main     # Triggers production deployment</code>
        </div>

        <h3 class="h3_class">‚úÖ CI/CD Checklist</h3>
        <div class="success-box">
          <ul style="margin-left: 1.5rem;">
            <li class="li_class">‚úÖ Remote state backend configured (S3 + DynamoDB)</li>
            <li class="li_class">‚úÖ IAM roles created with OIDC</li>
            <li class="li_class">‚úÖ GitHub Secrets added (AWS_ACCOUNT_ID, role ARNs)</li>
            <li class="li_class">‚úÖ Infrastructure deployed with Terraform</li>
            <li class="li_class">‚úÖ Workflow files in <code>.github/workflows/</code></li>
            <li class="li_class">‚úÖ Tested deployment by pushing to branch</li>
            <li class="li_class">‚úÖ Verified deployment in GitHub Actions</li>
          </ul>
        </div>

        <div class="success-box">
          <strong>üéâ Congratulations!</strong> Your CI/CD pipeline is now configured! Every push to <code>staging</code> or <code>main</code> will automatically deploy your infrastructure and site.
        </div>
        </div>
      </section>

      <!-- Workflows & Environments -->
      <section id="workflows" class="section">
        <h3 class="h3_class collapsible">Workflows & Different Environments</h3>
        <div class="collapsible-content">
        <p class="p_class">This project supports multiple environments (dev, staging, production) with separate infrastructure for each.</p>

        <h3 class="h3_class">Branch Strategy</h3>
        <p class="p_class">This project uses a three-branch workflow:</p>
        <table class="table_class">
          <thead>
            <tr>
              <th>Branch</th>
              <th>Environment</th>
              <th>Deployment</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>dev</code></td>
              <td>Development</td>
              <td>Auto (on push)</td>
              <td>Fast iteration, testing</td>
            </tr>
            <tr>
              <td><code>staging</code></td>
              <td>Staging</td>
              <td>Auto (on push)</td>
              <td>Pre-production testing</td>
            </tr>
            <tr>
              <td><code>main</code></td>
              <td>Production</td>
              <td>Auto (with optional approval)</td>
              <td>Live production environment</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">Deployment Workflow</h3>
        <div class="flow-diagram">
          <div class="flow-step"><strong>Local Development</strong> - Test on dev locally</div>
          <div class="flow-step"><strong>Push to dev</strong> - <code>git push origin dev</code></div>
          <div class="flow-step"><strong>Auto-deploy dev</strong> - CI/CD deploys to dev environment</div>
          <div class="flow-step"><strong>Merge to staging</strong> - Create PR: dev ‚Üí staging</div>
          <div class="flow-step"><strong>Auto-deploy staging</strong> - CI/CD deploys to staging</div>
          <div class="flow-step"><strong>Merge to main</strong> - Create PR: staging ‚Üí main</div>
          <div class="flow-step"><strong>Auto-deploy prod</strong> - CI/CD deploys to production</div>
        </div>

        <h3 class="h3_class">Terraform Workspaces</h3>
        <p class="p_class">Each environment uses a separate Terraform workspace for state isolation:</p>
        <ul class="ul_class">
          <li class="li_class"><strong>dev workspace</strong> - Manages dev environment state</li>
          <li class="li_class"><strong>staging workspace</strong> - Manages staging environment state</li>
          <li class="li_class"><strong>prod workspace</strong> - Manages production environment state</li>
        </ul>

        <div class="info-box">
          <strong>üîí State Isolation:</strong> Each environment has its own state file. Destroying one environment doesn't affect others.
        </div>

        <h3 class="h3_class">Managing Multiple Environments</h3>

        <h4 class="h4_class">Deploy to Specific Environment</h4>
        <div class="code-block">
<code># Deploy dev
./scripts/plan.sh dev
./scripts/apply.sh dev

# Deploy staging
./scripts/plan.sh staging
./scripts/apply.sh staging

# Deploy prod
./scripts/plan.sh prod
./scripts/apply.sh prod</code>
        </div>

        <h4 class="h4_class">View Environment Outputs</h4>
        <div class="code-block">
<code>./scripts/outputs.sh dev      # Dev environment
./scripts/outputs.sh staging    # Staging environment
./scripts/outputs.sh prod      # Production environment</code>
        </div>

        <h4 class="h4_class">Destroy Specific Environment</h4>
        <div class="code-block">
<code># Destroy only staging (dev and prod remain)
./scripts/destroy.sh staging

# Destroy only dev
./scripts/destroy.sh dev</code>
        </div>

        <h3 class="h3_class">Branch Protection Rules</h3>
        <p class="p_class">To enforce the workflow, set up branch protection in GitHub:</p>
        <ol class="step-list">
          <li class="li_class">Go to <strong>Repository Settings</strong> ‚Üí <strong>Branches</strong></li>
          <li class="li_class">Add rule for <code>staging</code>:
            <ul class="ul_class">
              <li class="li_class">Require pull request before merging</li>
              <li class="li_class">Do not allow deleting this branch</li>
              <li class="li_class">Restrict direct pushes</li>
            </ul>
          </li>
          <li class="li_class">Add rule for <code>main</code>:
            <ul class="ul_class">
              <li class="li_class">Require pull request before merging</li>
              <li class="li_class">Require approvals (optional)</li>
              <li class="li_class">Do not allow deleting this branch</li>
              <li class="li_class">Restrict direct pushes</li>
            </ul>
          </li>
          <li class="li_class">Add rule for <code>dev</code>:
            <ul class="ul_class">
              <li class="li_class">Do not allow deleting this branch</li>
            </ul>
          </li>
        </ol>

        <div class="warning-box">
          <strong>‚ö†Ô∏è Important:</strong> The <code>branch-protection.yml</code> workflow automatically validates PR rules. It blocks invalid merges (e.g., direct PR to main from feature branch).
        </div>

        <h3 class="h3_class">Environment Configuration</h3>
        <p class="p_class">Each environment has its own configuration file:</p>
        <ul class="ul_class">
          <li class="li_class"><code>environments/dev/terraform.tfvars</code> - Dev settings</li>
          <li class="li_class"><code>environments/staging/terraform.tfvars</code> - Staging settings</li>
          <li class="li_class"><code>environments/prod/terraform.tfvars</code> - Production settings</li>
        </ul>

        <p class="p_class">Key differences:</p>
        <table class="table_class">
          <thead>
            <tr>
              <th>Setting</th>
              <th>Dev</th>
              <th>Staging</th>
              <th>Prod</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>IAM Roles</td>
              <td>Disabled</td>
              <td>Enabled (OIDC)</td>
              <td>Enabled (OIDC)</td>
            </tr>
            <tr>
              <td>Cache TTL</td>
              <td>1 hour</td>
              <td>1 day</td>
              <td>1 year</td>
            </tr>
            <tr>
              <td>Versioning</td>
              <td>Disabled</td>
              <td>Enabled</td>
              <td>Enabled</td>
            </tr>
          </tbody>
        </table>
        </div>
      </section>

      <!-- Best Practices -->
      <section id="best-practices" class="section">
        <h2 class="h2_class">15. Essential Best Practices</h2>
        
        <h3 class="h3_class">üîí Security (Must Do)</h3>
        <div class="code-block">
<code># 1. Never commit secrets
echo "*.tfvars" >> .gitignore
echo ".aws/" >> .gitignore

# 2. Always plan before apply
terraform plan -var-file=environments/dev/terraform.tfvars
terraform apply -var-file=environments/dev/terraform.tfvars

# 3. Use separate environments
terraform workspace select dev
terraform apply -var-file=environments/dev/terraform.tfvars</code>
        </div>

        <h3 class="h3_class">üìù Code Quality (Quick Wins)</h3>
        <div class="code-block">
<code># Format code before committing
terraform fmt

# Validate syntax
terraform validate

# Check what will change
terraform plan</code>
        </div>

        <h3 class="h3_class">‚úÖ Quick Checklist</h3>
        <div class="code-block">
<code>Before deploying:
‚ñ° Run terraform fmt
‚ñ° Run terraform validate  
‚ñ° Run terraform plan (review output)
‚ñ° Test in dev first
‚ñ° Never commit .tfvars with secrets</code>
        </div>
      </section>

      <!-- Troubleshooting -->
      <section id="troubleshooting" class="section">
        <h2 class="h2_class collapsible">16. Troubleshooting</h2>
        <div class="collapsible-content">
        <p class="p_class">Common issues and how to resolve them:</p>

        <h3 class="h3_class">Common Issues</h3>

        <h4 class="h4_class">Issue: "AWS profile 'deploy-config' is not configured"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <div class="code-block">
<code>aws configure --profile deploy-config</code>
        </div>

        <h4 class="h4_class">Issue: "Workspace doesn't exist"</h4>
        <p class="p_class"><strong>Solution:</strong> Workspace is created automatically on first plan/apply. Just run:</p>
        <div class="code-block">
<code>./scripts/plan.sh dev</code>
        </div>

        <h4 class="h4_class">Issue: "Unable to determine S3 bucket name"</h4>
        <p class="p_class"><strong>Solution:</strong> Make sure you've run <code>terraform apply</code> first:</p>
        <div class="code-block">
<code>./scripts/apply.sh dev</code>
        </div>

        <h4 class="h4_class">Issue: CI/CD workflow fails with "Role not found"</h4>
        <p class="p_class"><strong>Solution:</strong></p>
        <ol class="ol_class">
          <li class="li_class">Verify IAM roles are created: <code>./scripts/outputs.sh staging</code></li>
          <li class="li_class">Check GitHub Secrets are set correctly</li>
          <li class="li_class">Verify OIDC is configured in <code>terraform.tfvars</code></li>
        </ol>

        <h4 class="h4_class">Issue: CloudFront shows "Distribution not ready"</h4>
        <p class="p_class"><strong>Solution:</strong> Wait 15-20 minutes. CloudFront distributions take time to deploy globally.</p>

        <h3 class="h3_class">Useful Commands</h3>
        <div class="code-block">
<code># List all workspaces
terraform workspace list

# Show current workspace
terraform workspace show

# Switch workspace manually
terraform workspace select staging

# View Terraform state
terraform state list

# Check AWS profile
aws sts get-caller-identity --profile deploy-config</code>
        </div>
        </div>
      </section>

      <!-- Questions and Answers -->
      <section id="faq" class="section">
        <h2 class="h2_class collapsible">17. Frequently Asked Questions (FAQ)</h2>
        <div class="collapsible-content">
        <p class="p_class">Common questions and answers about Terraform, AWS, and this deployment project.</p>

        <h3 class="h3_class">ü§î General Questions</h3>

        <h4 class="h4_class">Q: What is Infrastructure as Code (IaC)?</h4>
        <p class="p_class"><strong>A:</strong> Infrastructure as Code is the practice of managing and provisioning infrastructure through machine-readable definition files, rather than through manual processes. Terraform is an IaC tool that lets you define infrastructure in code and version control it.</p>

        <h4 class="h4_class">Q: Why use Terraform instead of AWS Console?</h4>
        <p class="p_class"><strong>A:</strong> Terraform provides:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ Version control for infrastructure</li>
          <li class="li_class">‚úÖ Reproducible deployments</li>
          <li class="li_class">‚úÖ Ability to review changes before applying</li>
          <li class="li_class">‚úÖ Documentation of your infrastructure</li>
          <li class="li_class">‚úÖ Multi-cloud support</li>
          <li class="li_class">‚úÖ Team collaboration</li>
        </ul>

        <h4 class="h4_class">Q: Do I need to know programming to use Terraform?</h4>
        <p class="p_class"><strong>A:</strong> No! Terraform uses HCL (HashiCorp Configuration Language), which is declarative and easy to learn. You describe what you want, and Terraform figures out how to create it.</p>

        <h3 class="h3_class">üîß Terraform Questions</h3>

        <h4 class="h4_class">Q: What's the difference between terraform plan and terraform apply?</h4>
        <p class="p_class"><strong>A:</strong></p>
        <ul class="ul_class">
          <li class="li_class"><strong><code>terraform plan</code>:</strong> Shows what changes will be made without actually making them. Safe to run multiple times.</li>
          <li class="li_class"><strong><code>terraform apply</code>:</strong> Actually creates, modifies, or destroys resources. This makes real changes to your infrastructure.</li>
        </ul>
        <p class="p_class">Always run <code>plan</code> before <code>apply</code> to review changes!</p>

        <h4 class="h4_class">Q: What is a Terraform workspace?</h4>
        <p class="p_class"><strong>A:</strong> A workspace is a named state container. Each workspace has its own state file, allowing you to manage multiple environments (dev, staging, prod) with the same Terraform code but separate infrastructure.</p>

        <h4 class="h4_class">Q: Can I use the same Terraform code for multiple environments?</h4>
        <p class="p_class"><strong>A:</strong> Yes! That's one of Terraform's strengths. Use:</p>
        <ul class="ul_class">
          <li class="li_class">Different <code>.tfvars</code> files per environment</li>
          <li class="li_class">Different workspaces per environment</li>
          <li class="li_class">Different backend configurations per environment</li>
        </ul>
        <p class="p_class">This keeps your code DRY (Don't Repeat Yourself).</p>

        <h4 class="h4_class">Q: What happens if I delete a resource manually in AWS Console?</h4>
        <p class="p_class"><strong>A:</strong> Terraform will detect the resource is missing on the next <code>plan</code> or <code>apply</code> and try to recreate it. To sync Terraform state with reality, use <code>terraform apply -refresh-only</code> or <code>terraform import</code>.</p>

        <h4 class="h4_class">Q: How do I update Terraform provider versions?</h4>
        <p class="p_class"><strong>A:</strong> Update the version constraint in <code>versions.tf</code>:</p>
        <div class="code-block">
<code>required_providers {
  aws = {
    source  = "hashicorp/aws"
    version = "~> 5.0"  # Update this
  }
}</code>
        </div>
        <p class="p_class">Then run <code>terraform init -upgrade</code> to download the new version.</p>

        <h3 class="h3_class">‚òÅÔ∏è AWS Questions</h3>

        <h4 class="h4_class">Q: Why is my S3 bucket private? Can't I make it public?</h4>
        <p class="p_class"><strong>A:</strong> This project uses a private S3 bucket with CloudFront for security and performance:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ <strong>Security:</strong> Private buckets are more secure</li>
          <li class="li_class">‚úÖ <strong>Performance:</strong> CloudFront CDN is faster than direct S3 access</li>
          <li class="li_class">‚úÖ <strong>HTTPS:</strong> CloudFront provides free SSL certificates</li>
        </ul>
        <p class="p_class">You can make S3 public, but it's not recommended for production.</p>

        <h4 class="h4_class">Q: What is Origin Access Control (OAC)?</h4>
        <p class="p_class"><strong>A:</strong> OAC is AWS's modern way to securely connect CloudFront to private S3 buckets. It replaces the older OAI (Origin Access Identity). OAC ensures only CloudFront can access your S3 bucket, keeping it private while allowing CloudFront to serve content.</p>

        <h4 class="h4_class">Q: How long does CloudFront take to deploy?</h4>
        <p class="p_class"><strong>A:</strong> CloudFront distributions typically take 15-20 minutes to fully deploy globally. The URL is available immediately, but it may show "Distribution not ready" until deployment completes.</p>

        <h4 class="h4_class">Q: Why do I need DynamoDB for Terraform state?</h4>
        <p class="p_class"><strong>A:</strong> DynamoDB provides state locking, which prevents multiple people (or CI/CD runs) from modifying infrastructure simultaneously. This prevents conflicts and corruption of your Terraform state.</p>

        <h4 class="h4_class">Q: Can I use a custom domain with CloudFront?</h4>
        <p class="p_class"><strong>A:</strong> Yes! You need to:</p>
        <ol class="ol_class">
          <li class="li_class">Request an SSL certificate in AWS Certificate Manager (ACM)</li>
          <li class="li_class">Add the certificate ARN to your CloudFront configuration</li>
          <li class="li_class">Add your domain as an alias in CloudFront</li>
          <li class="li_class">Create a CNAME record in your DNS pointing to CloudFront</li>
        </ol>

        <h3 class="h3_class">üîê Security Questions</h3>

        <h4 class="h4_class">Q: Is it safe to store Terraform state in S3?</h4>
        <p class="p_class"><strong>A:</strong> Yes, if you:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ Enable encryption at rest</li>
          <li class="li_class">‚úÖ Enable versioning</li>
          <li class="li_class">‚úÖ Use bucket policies to restrict access</li>
          <li class="li_class">‚úÖ Never commit state files to version control</li>
        </ul>
        <p class="p_class">State files may contain sensitive data, so always encrypt them.</p>

        <h4 class="h4_class">Q: How does OIDC authentication work?</h4>
        <p class="p_class"><strong>A:</strong> OIDC (OpenID Connect) allows GitHub Actions to request temporary AWS credentials without storing AWS keys:</p>
        <ol class="ol_class">
          <li class="li_class">GitHub generates a JWT token with repository information</li>
          <li class="li_class">AWS validates the token against the OIDC provider</li>
          <li class="li_class">AWS issues temporary credentials (valid for 1 hour)</li>
          <li class="li_class">GitHub Actions uses these credentials to deploy</li>
        </ol>
        <p class="p_class">This is more secure than storing long-lived AWS access keys.</p>

        <h4 class="h4_class">Q: Should I use the same AWS account for dev, staging, and prod?</h4>
        <p class="p_class"><strong>A:</strong> For production, it's best practice to use separate AWS accounts:</p>
        <ul class="ul_class">
          <li class="li_class">‚úÖ Better security isolation</li>
          <li class="li_class">‚úÖ Prevents accidental production changes</li>
          <li class="li_class">‚úÖ Easier compliance and auditing</li>
        </ul>
        <p class="p_class">For learning or small projects, separate accounts per environment is fine.</p>

        <h3 class="h3_class">üöÄ Deployment Questions</h3>

        <h4 class="h4_class">Q: How do I update my static site after deployment?</h4>
        <p class="p_class"><strong>A:</strong> Upload new files:</p>
        <div class="code-block">
<code># Local deployment
./scripts/upload.sh dev ./build

# Or manually
aws s3 sync ./build s3://your-bucket/ --delete
aws cloudfront create-invalidation --distribution-id YOUR_DIST_ID --paths "/*"</code>
        </div>
        <p class="p_class">Or push to GitHub if CI/CD is configured - it will deploy automatically!</p>

        <h4 class="h4_class">Q: Why do I need to invalidate CloudFront cache?</h4>
        <p class="p_class"><strong>A:</strong> CloudFront caches files at edge locations. After uploading new files to S3, you need to invalidate the cache so users get the latest version. Without invalidation, users might see old cached content.</p>

        <h4 class="h4_class">Q: Can I deploy to multiple regions?</h4>
        <p class="p_class"><strong>A:</strong> CloudFront is global, so you don't need multiple regions. However, if you want S3 buckets in multiple regions, you can:</p>
        <ul class="ul_class">
          <li class="li_class">Create separate Terraform configurations per region</li>
          <li class="li_class">Use Terraform workspaces with region-specific backends</li>
          <li class="li_class">Use CloudFront with multiple origins</li>
        </ul>

        <h4 class="h4_class">Q: How do I rollback a deployment?</h4>
        <p class="p_class"><strong>A:</strong> Several options:</p>
        <ul class="ul_class">
          <li class="li_class"><strong>Upload previous version:</strong> Upload the previous build files to S3</li>
          <li class="li_class"><strong>Terraform rollback:</strong> Use <code>terraform state</code> commands or restore from state backup</li>
          <li class="li_class"><strong>S3 versioning:</strong> If enabled, restore previous object versions</li>
        </ul>

        <h3 class="h3_class">üõ†Ô∏è Troubleshooting Questions</h3>

        <h4 class="h4_class">Q: Terraform says "state is locked" - what do I do?</h4>
        <p class="p_class"><strong>A:</strong> Another operation is running. Options:</p>
        <ul class="ul_class">
          <li class="li_class">Wait for the other operation to complete</li>
          <li class="li_class">If stuck, manually unlock: <code>terraform force-unlock LOCK_ID</code></li>
          <li class="li_class">For remote state, check DynamoDB table for lock entries</li>
        </ul>
        <p class="p_class"><strong>Warning:</strong> Only unlock if you're sure no operation is running!</p>

        <h4 class="h4_class">Q: My CloudFront URL shows "Access Denied" - why?</h4>
        <p class="p_class"><strong>A:</strong> Common causes:</p>
        <ul class="ul_class">
          <li class="li_class">CloudFront distribution not fully deployed (wait 15-20 minutes)</li>
          <li class="li_class">OAC not properly configured</li>
          <li class="li_class">S3 bucket policy missing or incorrect</li>
          <li class="li_class">No files uploaded to S3 yet</li>
        </ul>

        <h4 class="h4_class">Q: How do I see what Terraform will change before applying?</h4>
        <p class="p_class"><strong>A:</strong> Always use <code>terraform plan</code>:</p>
        <div class="code-block">
<code>./scripts/plan.sh dev  # Shows planned changes</code>
        </div>
        <p class="p_class">The plan shows what will be created (+), modified (~), or destroyed (-).</p>

        <h4 class="h4_class">Q: Can I destroy everything and start over?</h4>
        <p class="p_class"><strong>A:</strong> Yes, but be careful:</p>
        <div class="code-block">
<code># Destroy specific environment
./scripts/destroy.sh dev

# This removes ALL resources in that environment</code>
        </div>
        <p class="p_class"><strong>Warning:</strong> This is irreversible! Make sure you have backups if needed.</p>

        <h3 class="h3_class">üí° Tips & Tricks</h3>

        <h4 class="h4_class">Q: How can I speed up Terraform operations?</h4>
        <p class="p_class"><strong>A:</strong></p>
        <ul class="ul_class">
          <li class="li_class">Use <code>-parallelism</code> flag to run operations in parallel</li>
          <li class="li_class">Cache Terraform providers between runs</li>
          <li class="li_class">Use targeted operations: <code>terraform apply -target=resource</code></li>
          <li class="li_class">Avoid unnecessary <code>terraform apply -refresh-only</code> calls</li>
        </ul>

        <h4 class="h4_class">Q: How do I share Terraform state with my team?</h4>
        <p class="p_class"><strong>A:</strong> Use remote state (S3 backend):</p>
        <ul class="ul_class">
          <li class="li_class">Configure <code>backend/*.hcl</code> files</li>
          <li class="li_class">Use DynamoDB for state locking</li>
          <li class="li_class">All team members use the same backend</li>
          <li class="li_class">State is automatically shared and locked</li>
        </ul>

        <h4 class="h4_class">Q: Can I use this for non-WebGL static sites?</h4>
        <p class="p_class"><strong>A:</strong> Absolutely! This works for any static site:</p>
        <ul class="ul_class">
          <li class="li_class">React, Vue, Angular apps</li>
          <li class="li_class">Jekyll, Hugo, Gatsby sites</li>
          <li class="li_class">Plain HTML/CSS/JS</li>
          <li class="li_class">Documentation sites</li>
          <li class="li_class">Any static content</li>
        </ul>

        <h4 class="h4_class">Q: How do I add more AWS services?</h4>
        <p class="p_class"><strong>A:</strong> Add resources to your Terraform configuration:</p>
        <ul class="ul_class">
          <li class="li_class">Create new <code>.tf</code> files or add to existing ones</li>
          <li class="li_class">Use Terraform modules for reusable components</li>
          <li class="li_class">Update variables and outputs as needed</li>
          <li class="li_class">Test in dev environment first</li>
        </ul>

        <div class="info-box">
          <strong>üí° Have More Questions?</strong> Check the official documentation:
          <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
            <li class="li_class"><a href="https://www.terraform.io/docs" target="_blank">Terraform Documentation</a></li>
            <li class="li_class"><a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs" target="_blank">AWS Provider Documentation</a></li>
            <li class="li_class"><a href="https://docs.aws.amazon.com/" target="_blank">AWS Documentation</a></li>
          </ul>
        </div>
        </div>
      </section>

      <!-- Quick Reference -->
      <section id="quick-reference" class="section">
        <h2 class="h2_class collapsible">18. Command Reference</h2>
        <div class="collapsible-content">
        <h3 class="h3_class">üîß Terraform Commands</h3>
        
        <h4 class="h4_class">Basic Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>terraform init</code></td>
              <td>Initialize Terraform, download providers</td>
            </tr>
            <tr>
              <td><code>terraform init -backend-config=backend/dev.hcl</code></td>
              <td>Initialize with remote backend configuration</td>
            </tr>
            <tr>
              <td><code>terraform fmt</code></td>
              <td>Format all .tf files in current directory</td>
            </tr>
            <tr>
              <td><code>terraform fmt -recursive</code></td>
              <td>Format all .tf files recursively</td>
            </tr>
            <tr>
              <td><code>terraform validate</code></td>
              <td>Validate Terraform configuration syntax</td>
            </tr>
            <tr>
              <td><code>terraform show</code></td>
              <td>Show current state in human-readable format</td>
            </tr>
            <tr>
              <td><code>terraform state list</code></td>
              <td>List all resources in current state</td>
            </tr>
            <tr>
              <td><code>terraform state show resource</code></td>
              <td>Show details of specific resource</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">Workspace Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>terraform workspace list</code></td>
              <td>List all available workspaces</td>
            </tr>
            <tr>
              <td><code>terraform workspace show</code></td>
              <td>Display current workspace name</td>
            </tr>
            <tr>
              <td><code>terraform workspace select dev</code></td>
              <td>Switch to specified workspace</td>
            </tr>
            <tr>
              <td><code>terraform workspace new staging</code></td>
              <td>Create new workspace</td>
            </tr>
            <tr>
              <td><code>terraform workspace delete staging</code></td>
              <td>Delete workspace (must destroy resources first)</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">Plan & Apply Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>terraform plan</code></td>
              <td>Create execution plan (preview changes)</td>
            </tr>
            <tr>
              <td><code>terraform plan -var-file=environments/dev/terraform.tfvars</code></td>
              <td>Plan with environment-specific variables</td>
            </tr>
            <tr>
              <td><code>terraform plan -out=tfplan.out</code></td>
              <td>Save plan to file for later use</td>
            </tr>
            <tr>
              <td><code>terraform apply</code></td>
              <td>Apply changes (will prompt for confirmation)</td>
            </tr>
            <tr>
              <td><code>terraform apply -var-file=environments/dev/terraform.tfvars</code></td>
              <td>Apply with environment-specific variables</td>
            </tr>
            <tr>
              <td><code>terraform apply tfplan.out</code></td>
              <td>Apply previously saved plan</td>
            </tr>
            <tr>
              <td><code>terraform apply -auto-approve</code></td>
              <td>Apply without confirmation prompt</td>
            </tr>
            <tr>
              <td><code>terraform destroy</code></td>
              <td>Destroy all resources in state</td>
            </tr>
            <tr>
              <td><code>terraform destroy -var-file=environments/dev/terraform.tfvars</code></td>
              <td>Destroy with environment-specific variables</td>
            </tr>
            <tr>
              <td><code>terraform destroy -target=resource</code></td>
              <td>Destroy only specific resource</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">Output Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>terraform output</code></td>
              <td>Display all output values</td>
            </tr>
            <tr>
              <td><code>terraform output deployment_url</code></td>
              <td>Display specific output value</td>
            </tr>
            <tr>
              <td><code>terraform output -raw s3_bucket_id</code></td>
              <td>Display raw output value (no quotes)</td>
            </tr>
            <tr>
              <td><code>terraform output -json</code></td>
              <td>Display outputs in JSON format</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">State Management</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>terraform state list</code></td>
              <td>List all resources in current state</td>
            </tr>
            <tr>
              <td><code>terraform state show aws_s3_bucket.main</code></td>
              <td>Show detailed information about specific resource</td>
            </tr>
            <tr>
              <td><code>terraform state rm aws_s3_bucket.main</code></td>
              <td>Remove resource from state (doesn't destroy it in AWS)</td>
            </tr>
            <tr>
              <td><code>terraform import aws_s3_bucket.main bucket-name</code></td>
              <td>Import existing AWS resource into Terraform state</td>
            </tr>
            <tr>
              <td><code>terraform state mv old_address new_address</code></td>
              <td>Move resource to different address in state</td>
            </tr>
            <tr>
              <td><code>terraform force-unlock LOCK_ID</code></td>
              <td>Force unlock state (use with caution)</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">‚òÅÔ∏è AWS CLI Commands</h3>
        
        <h4 class="h4_class">Configuration</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>aws configure</code></td>
              <td>Configure AWS CLI with default profile</td>
            </tr>
            <tr>
              <td><code>aws configure --profile deploy-config</code></td>
              <td>Configure named AWS profile</td>
            </tr>
            <tr>
              <td><code>aws configure list-profiles</code></td>
              <td>List all configured AWS profiles</td>
            </tr>
            <tr>
              <td><code>export AWS_PROFILE=deploy-config</code></td>
              <td>Set default AWS profile for current session</td>
            </tr>
            <tr>
              <td><code>aws sts get-caller-identity</code></td>
              <td>Verify AWS credentials and get account info</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">S3 Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>aws s3 ls</code></td>
              <td>List all S3 buckets</td>
            </tr>
            <tr>
              <td><code>aws s3 ls s3://bucket-name/</code></td>
              <td>List objects in bucket</td>
            </tr>
            <tr>
              <td><code>aws s3 ls s3://bucket-name/ --recursive</code></td>
              <td>List all objects recursively</td>
            </tr>
            <tr>
              <td><code>aws s3 cp file.txt s3://bucket-name/</code></td>
              <td>Upload single file to S3</td>
            </tr>
            <tr>
              <td><code>aws s3 sync ./build s3://bucket-name/</code></td>
              <td>Upload directory to S3 (sync)</td>
            </tr>
            <tr>
              <td><code>aws s3 sync ./build s3://bucket-name/ --delete</code></td>
              <td>Sync directory and delete removed files</td>
            </tr>
            <tr>
              <td><code>aws s3 cp s3://bucket-name/file.txt ./</code></td>
              <td>Download file from S3</td>
            </tr>
            <tr>
              <td><code>aws s3 sync s3://bucket-name/ ./download/</code></td>
              <td>Download directory from S3</td>
            </tr>
            <tr>
              <td><code>aws s3 rm s3://bucket-name/file.txt</code></td>
              <td>Delete file from S3</td>
            </tr>
            <tr>
              <td><code>aws s3 rm s3://bucket-name/ --recursive</code></td>
              <td>Delete all files in bucket</td>
            </tr>
            <tr>
              <td><code>aws s3 mb s3://bucket-name</code></td>
              <td>Create new S3 bucket</td>
            </tr>
            <tr>
              <td><code>aws s3 rb s3://bucket-name</code></td>
              <td>Delete empty S3 bucket</td>
            </tr>
            <tr>
              <td><code>aws s3 rb s3://bucket-name --force</code></td>
              <td>Delete bucket and all contents</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">CloudFront Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>aws cloudfront list-distributions</code></td>
              <td>List all CloudFront distributions</td>
            </tr>
            <tr>
              <td><code>aws cloudfront get-distribution --id DISTRIBUTION_ID</code></td>
              <td>Get detailed information about distribution</td>
            </tr>
            <tr>
              <td><code>aws cloudfront create-invalidation --distribution-id DIST_ID --paths "/*"</code></td>
              <td>Invalidate CloudFront cache for specified paths</td>
            </tr>
            <tr>
              <td><code>aws cloudfront list-invalidations --distribution-id DIST_ID</code></td>
              <td>List all invalidations for distribution</td>
            </tr>
            <tr>
              <td><code>aws cloudfront get-invalidation --distribution-id DIST_ID --id INV_ID</code></td>
              <td>Get status of specific invalidation</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">IAM Commands</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>aws sts get-caller-identity</code></td>
              <td>Get current AWS user/role identity</td>
            </tr>
            <tr>
              <td><code>aws iam list-users</code></td>
              <td>List all IAM users</td>
            </tr>
            <tr>
              <td><code>aws iam list-roles</code></td>
              <td>List all IAM roles</td>
            </tr>
            <tr>
              <td><code>aws iam get-role --role-name role-name</code></td>
              <td>Get details of specific IAM role</td>
            </tr>
            <tr>
              <td><code>aws iam list-policies</code></td>
              <td>List all IAM policies</td>
            </tr>
            <tr>
              <td><code>aws iam attach-role-policy --role-name role-name --policy-arn POLICY_ARN</code></td>
              <td>Attach policy to IAM role</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">üíª Shell/Bash Commands</h3>
        
        <h4 class="h4_class">Environment Variables</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>export AWS_PROFILE=deploy-config</code></td>
              <td>Set AWS profile for current session</td>
            </tr>
            <tr>
              <td><code>export AWS_DEFAULT_REGION=us-east-1</code></td>
              <td>Set default AWS region</td>
            </tr>
            <tr>
              <td><code>export AWS_ACCESS_KEY_ID=your-key</code></td>
              <td>Set AWS access key (not recommended, use profiles)</td>
            </tr>
            <tr>
              <td><code>export AWS_SECRET_ACCESS_KEY=your-secret</code></td>
              <td>Set AWS secret key (not recommended, use profiles)</td>
            </tr>
            <tr>
              <td><code>echo $AWS_PROFILE</code></td>
              <td>Display value of environment variable</td>
            </tr>
            <tr>
              <td><code>env | grep AWS</code></td>
              <td>List all AWS-related environment variables</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">File Operations</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>cd /path/to/directory</code></td>
              <td>Change to specified directory</td>
            </tr>
            <tr>
              <td><code>cd ..</code></td>
              <td>Go up one directory level</td>
            </tr>
            <tr>
              <td><code>cd ~</code></td>
              <td>Go to home directory</td>
            </tr>
            <tr>
              <td><code>ls</code></td>
              <td>List files in current directory</td>
            </tr>
            <tr>
              <td><code>ls -la</code></td>
              <td>List files with details and hidden files</td>
            </tr>
            <tr>
              <td><code>ls -lh</code></td>
              <td>List files with human-readable sizes</td>
            </tr>
            <tr>
              <td><code>mkdir directory-name</code></td>
              <td>Create new directory</td>
            </tr>
            <tr>
              <td><code>mkdir -p path/to/directory</code></td>
              <td>Create directory and parent directories</td>
            </tr>
            <tr>
              <td><code>rm file.txt</code></td>
              <td>Remove file</td>
            </tr>
            <tr>
              <td><code>rm -r directory/</code></td>
              <td>Remove directory recursively</td>
            </tr>
            <tr>
              <td><code>rm -rf directory/</code></td>
              <td>Force remove directory</td>
            </tr>
            <tr>
              <td><code>cp source.txt dest.txt</code></td>
              <td>Copy file</td>
            </tr>
            <tr>
              <td><code>cp -r source/ dest/</code></td>
              <td>Copy directory recursively</td>
            </tr>
            <tr>
              <td><code>mv old.txt new.txt</code></td>
              <td>Move or rename file</td>
            </tr>
            <tr>
              <td><code>mv file.txt directory/</code></td>
              <td>Move file to directory</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">Command Chaining & Variables</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>command1 && command2</code></td>
              <td>Run command2 only if command1 succeeds</td>
            </tr>
            <tr>
              <td><code>command1 || command2</code></td>
              <td>Run command2 only if command1 fails</td>
            </tr>
            <tr>
              <td><code>command1 ; command2</code></td>
              <td>Run both commands regardless of result</td>
            </tr>
            <tr>
              <td><code>BUCKET=$(terraform output -raw s3_bucket_id)</code></td>
              <td>Store command output in variable</td>
            </tr>
            <tr>
              <td><code>echo $BUCKET</code></td>
              <td>Display variable value</td>
            </tr>
            <tr>
              <td><code>aws s3 ls s3://$BUCKET/</code></td>
              <td>Use variable in command</td>
            </tr>
            <tr>
              <td><code>if [ $? -eq 0 ]; then echo "Success"; fi</code></td>
              <td>Check if previous command succeeded</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">Script Execution</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>chmod +x script.sh</code></td>
              <td>Make script executable</td>
            </tr>
            <tr>
              <td><code>./script.sh</code></td>
              <td>Run executable script</td>
            </tr>
            <tr>
              <td><code>bash script.sh</code></td>
              <td>Run script with bash interpreter</td>
            </tr>
            <tr>
              <td><code>sh script.sh</code></td>
              <td>Run script with sh interpreter</td>
            </tr>
            <tr>
              <td><code>./script.sh dev ./build</code></td>
              <td>Run script with arguments</td>
            </tr>
            <tr>
              <td><code>bash -n script.sh</code></td>
              <td>Check script syntax without executing</td>
            </tr>
          </tbody>
        </table>

        <h4 class="h4_class">Useful Utilities</h4>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>cat file.txt</code></td>
              <td>Display entire file contents</td>
            </tr>
            <tr>
              <td><code>less file.txt</code></td>
              <td>View file with scrollable interface</td>
            </tr>
            <tr>
              <td><code>head -n 20 file.txt</code></td>
              <td>Display first 20 lines of file</td>
            </tr>
            <tr>
              <td><code>tail -n 20 file.txt</code></td>
              <td>Display last 20 lines of file</td>
            </tr>
            <tr>
              <td><code>grep "pattern" file.txt</code></td>
              <td>Search for pattern in file</td>
            </tr>
            <tr>
              <td><code>grep -r "pattern" directory/</code></td>
              <td>Search for pattern recursively in directory</td>
            </tr>
            <tr>
              <td><code>find . -name "*.tf"</code></td>
              <td>Find files matching pattern</td>
            </tr>
            <tr>
              <td><code>find . -type f -name "*.sh"</code></td>
              <td>Find files by type and name</td>
            </tr>
            <tr>
              <td><code>df -h</code></td>
              <td>Display disk space usage</td>
            </tr>
            <tr>
              <td><code>ls -l file.txt</code></td>
              <td>Display file permissions and details</td>
            </tr>
            <tr>
              <td><code>history</code></td>
              <td>Display command history</td>
            </tr>
            <tr>
              <td><code>history | grep terraform</code></td>
              <td>Search command history for pattern</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">üìú Helper Scripts (Optional Shortcuts)</h3>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>./scripts/init.sh</code></td>
              <td>Initialize Terraform and setup workspace</td>
            </tr>
            <tr>
              <td><code>./scripts/plan.sh dev</code></td>
              <td>Create execution plan for dev environment</td>
            </tr>
            <tr>
              <td><code>./scripts/plan.sh staging</code></td>
              <td>Create execution plan for staging environment</td>
            </tr>
            <tr>
              <td><code>./scripts/plan.sh prod</code></td>
              <td>Create execution plan for production environment</td>
            </tr>
            <tr>
              <td><code>./scripts/apply.sh dev</code></td>
              <td>Apply infrastructure changes to dev</td>
            </tr>
            <tr>
              <td><code>./scripts/apply.sh staging</code></td>
              <td>Apply infrastructure changes to staging</td>
            </tr>
            <tr>
              <td><code>./scripts/apply.sh prod</code></td>
              <td>Apply infrastructure changes to production</td>
            </tr>
            <tr>
              <td><code>./scripts/upload.sh dev ./build</code></td>
              <td>Upload files to dev S3 bucket and invalidate cache</td>
            </tr>
            <tr>
              <td><code>./scripts/upload.sh staging ./build</code></td>
              <td>Upload files to staging S3 bucket and invalidate cache</td>
            </tr>
            <tr>
              <td><code>./scripts/upload.sh prod ./build</code></td>
              <td>Upload files to production S3 bucket and invalidate cache</td>
            </tr>
            <tr>
              <td><code>./scripts/outputs.sh dev</code></td>
              <td>Display Terraform outputs for dev environment</td>
            </tr>
            <tr>
              <td><code>./scripts/outputs.sh staging</code></td>
              <td>Display Terraform outputs for staging environment</td>
            </tr>
            <tr>
              <td><code>./scripts/outputs.sh prod</code></td>
              <td>Display Terraform outputs for production environment</td>
            </tr>
            <tr>
              <td><code>./scripts/destroy.sh dev</code></td>
              <td>Destroy all resources in dev environment</td>
            </tr>
            <tr>
              <td><code>./scripts/destroy.sh staging</code></td>
              <td>Destroy all resources in staging environment</td>
            </tr>
            <tr>
              <td><code>./scripts/destroy.sh prod</code></td>
              <td>Destroy all resources in production environment</td>
            </tr>
            <tr>
              <td><code>./scripts/setup-remote-state.sh staging</code></td>
              <td>Setup S3 and DynamoDB for remote state (staging)</td>
            </tr>
            <tr>
              <td><code>./scripts/setup-remote-state.sh prod</code></td>
              <td>Setup S3 and DynamoDB for remote state (production)</td>
            </tr>
            <tr>
              <td><code>./scripts/setup-iam-oidc.sh staging $AWS_ACCOUNT_ID repo</code></td>
              <td>Create IAM role for GitHub Actions OIDC (staging)</td>
            </tr>
            <tr>
              <td><code>./scripts/setup-iam-oidc.sh prod $AWS_ACCOUNT_ID repo</code></td>
              <td>Create IAM role for GitHub Actions OIDC (production)</td>
            </tr>
          </tbody>
        </table>

        <h3 class="h3_class">üîÄ Git Commands</h3>
        <table class="table_class">
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>git clone https://github.com/m-saad-siddique/static-site-IAC-deploy.git</code></td>
              <td>Clone repository from GitHub</td>
            </tr>
            <tr>
              <td><code>cd static-site-IAC-deploy</code></td>
              <td>Navigate to cloned repository</td>
            </tr>
            <tr>
              <td><code>git status</code></td>
              <td>Check status of working directory</td>
            </tr>
            <tr>
              <td><code>git add file.txt</code></td>
              <td>Stage specific file for commit</td>
            </tr>
            <tr>
              <td><code>git add .</code></td>
              <td>Stage all changes for commit</td>
            </tr>
            <tr>
              <td><code>git commit -m "Message"</code></td>
              <td>Commit staged changes with message</td>
            </tr>
            <tr>
              <td><code>git push origin branch-name</code></td>
              <td>Push commits to remote repository</td>
            </tr>
            <tr>
              <td><code>git checkout -b feature-name</code></td>
              <td>Create and switch to new branch</td>
            </tr>
            <tr>
              <td><code>git switch -c feature-name</code></td>
              <td>Create and switch to new branch (alternative)</td>
            </tr>
            <tr>
              <td><code>git checkout branch-name</code></td>
              <td>Switch to existing branch</td>
            </tr>
            <tr>
              <td><code>git switch branch-name</code></td>
              <td>Switch to existing branch (alternative)</td>
            </tr>
            <tr>
              <td><code>git merge branch-name</code></td>
              <td>Merge branch into current branch</td>
            </tr>
            <tr>
              <td><code>git pull origin branch-name</code></td>
              <td>Pull latest changes from remote</td>
            </tr>
            <tr>
              <td><code>git log</code></td>
              <td>View commit history</td>
            </tr>
            <tr>
              <td><code>git log --oneline</code></td>
              <td>View compact commit history</td>
            </tr>
          </tbody>
        </table>
        </div>
      </section>

      <!-- Additional Resources -->
      <section id="additional-resources" class="section">
        <h2 class="h2_class collapsible">19. üìö Additional Resources</h2>
        <div class="collapsible-content">
        <h3 class="h3_class">Official Documentation</h3>
        <ul class="ul_class">
          <li class="li_class"><a href="https://www.terraform.io/docs" target="_blank">Terraform Documentation</a> - Complete Terraform guide</li>
          <li class="li_class"><a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs" target="_blank">AWS Provider Documentation</a> - All AWS resources</li>
         </ul>

        <h3 class="h3_class">Learning Resources</h3>
        <ul class="ul_class">
          <li class="li_class"><a href="https://learn.hashicorp.com/terraform" target="_blank">HashiCorp Learn</a> - Free Terraform tutorials</li>
          <li class="li_class"><a href="https://www.terraform.io/intro" target="_blank">Terraform Intro</a> - Getting started guide</li>
          <li class="li_class"><a href="https://aws.amazon.com/getting-started/" target="_blank">AWS Getting Started</a> - AWS basics</li>
        </ul>

        <h3 class="h3_class">Project Documentation</h3>
        <ul class="ul_class">
          <li class="li_class"><code>README.md</code> - Main project documentation</li>
          <li class="li_class"><code>WORKSPACES_GUIDE.md</code> - Workspace management guide</li>
          <li class="li_class"><code>GITHUB_ACTIONS_SETUP.md</code> - CI/CD setup instructions</li>
          <li class="li_class"><code>IAM_ROLE_GUIDE.md</code> - IAM roles and policies explained</li>
          <li class="li_class"><code>AWS_PROFILE_SETUP.md</code> - Local AWS configuration</li>
        </ul>
        </div>
      </section>
    </div>

    <footer class="footer">
      <p class="p_class"><strong>Static Site Deployment Tutorial</strong></p>
      <p class="p_class">Learn Infrastructure as Code with Terraform + AWS S3 + CloudFront</p>
      <p class="p_class">Replace this file with your actual static site build after deployment</p>
    </footer>
  </div>

  <!-- Back to Top Button -->
  <div class="back-to-top" id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë</div>

  <script>
    // Collapsible sections functionality
    document.addEventListener('DOMContentLoaded', function() {
      const collapsibles = document.querySelectorAll('.collapsible');
      
      collapsibles.forEach(collapsible => {
        collapsible.addEventListener('click', function() {
          this.classList.toggle('active');
          const content = this.nextElementSibling;
          if (content && content.classList.contains('collapsible-content')) {
            content.classList.toggle('active');
          }
        });
      });

      // Back to Top button
      const backToTopBtn = document.getElementById('backToTop');
      
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          backToTopBtn.classList.add('visible');
        } else {
          backToTopBtn.classList.remove('visible');
        }
      });
    });
  </script>
</body>
</html>
